{"componentChunkName":"component---src-templates-blog-post-js","path":"/android/view-binding/","result":{"data":{"site":{"id":"Site","siteMetadata":{"title":"孙某 Blog"}},"markdownRemark":{"id":"ae4c9cbe-dd5e-53f6-af7d-aa67ac55fabb","excerpt":"测试环境 android-studio 3.6.1   找到app下的build.gradle文件，添加view-binding支持   我们在新建的工程里的Layout xml中，加入一个Button，再给Text加一个id，如果没有ID，绑定类将不会存在他的引用。\n\n编译一下，我们就可以看到，IDE…","html":"<p>测试环境 android-studio 3.6.1  </p>\n<p>找到app下的build.gradle文件，添加view-binding支持  </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">android {\n    compileSdkVersion 29\n    buildToolsVersion &quot;29.0.3&quot;\n\n    defaultConfig {\n        applicationId &quot;com.example.componenttest&quot;\n        minSdkVersion 16\n        targetSdkVersion 29\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        viewBinding {\n            enabled = true\n        }\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\n        }\n    }\n\n}</code></pre></div>\n<p>我们在新建的工程里的Layout xml中，加入一个Button，再给Text加一个id，如果没有ID，绑定类将不会存在他的引用。\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a11d028e21ddabdfeeb9e822e4c3d696/33a7b/add_control.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49.508489722966935%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACI0lEQVQoz12SzUtUURjG538QIloZmaMz9/Pc77lzZ+69zm2c0WiSkRnTLFAy+kYRCoKwoMXQSoKQDAkjWvWXtKhV5CJ00c6NQTaj4ON5z6BmBx5ezrn3/fGc5z2psDyCoaSMYpKgNFxBuTKCZLiKcnUUMT/Ph/GJipGQzxVyRXEJfiGEk8uLSj0pLyjC5QdOzofj+UgPZNCfHsBFLllWYOgMuqqBaTqYacGwHDAukysXFGB7OXj5AKbjCkYqIynIyirSgxkEUQnLK2tovX6HN6vruHZnHplqHW59GlptErKdQ1aSISma6Am5w0uVqrihcF4oIiWrOlTd4I4GMT4xBVptdFfrw2ecadyF+eAZLsw+hhQMQeZAWWUCSs4KUSwqs2wYttMFKhoTwLHxBjrtNrZ3/gjg0sp79NRmoMwsoHfqIbJ+JIAS7yGgziOwPI+7C2G5ntifAtbqTezs7uPr1m/s7gEvVj/i/OR9VJ6+gjz3BAp3KAmHXaBpu8IdifKk/X8Om+h09vDz1zZwcIDnb9dxtj4H79ES+m7OQ/rHIfVQVCozBJAq6RSw3pgQV/27383w5don9IzdQnZ2Eb03FiDl42Og5XgCRIOgSZNMypCsE7CfP5fRK1fxY2MDX759x9bmJhZbyzh3eRrq9Xvoa96G5BU5UOHX7QIpOwIGYYS4lJxM+UgE1gwbKpeozILCzONK34/+ZaYN18+LYYj3yd2Ry0MKQYCjeav+MgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Layout信息\"\n        title=\"Layout信息\"\n        src=\"/static/a11d028e21ddabdfeeb9e822e4c3d696/fcda8/add_control.png\"\n        srcset=\"/static/a11d028e21ddabdfeeb9e822e4c3d696/12f09/add_control.png 148w,\n/static/a11d028e21ddabdfeeb9e822e4c3d696/e4a3f/add_control.png 295w,\n/static/a11d028e21ddabdfeeb9e822e4c3d696/fcda8/add_control.png 590w,\n/static/a11d028e21ddabdfeeb9e822e4c3d696/efc66/add_control.png 885w,\n/static/a11d028e21ddabdfeeb9e822e4c3d696/33a7b/add_control.png 1119w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n编译一下，我们就可以看到，IDE为我们生成的类。以下是生成的规则：\n为某个模块启用视图绑定功能后，系统会为该模块中包含的每个 XML 布局文件各生成一个绑定类。每个绑定类均包含对根视图以及具有 ID 的所有视图的引用。系统会通过以下方式生成绑定类的名称：将 XML 文件的名称转换为驼峰式大小写，并在末尾添加“Binding”一词。\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8d20086740c2834a4534f6e2618326b2/eb1d2/generated.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.2786683107275%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABEElEQVQoz4XQa2+CMBQGYH6O0hulReXiQORiBWVOM7NP+/+/4l3pMNNosg9PTpu0b8+p1zQ1tlXpNE2FrKig4hw63VqlI5c5SJhgHqwm8WT1xBv6BvtdCdNu0Jkt1usUSjBITiCEQMAZOPXBKAHxZ5P5ZPbE+772+DwbnI81LkOFPM+gpLQCBDIEYwyEEMf3fYv87V/wvt4rXE81hq6woSUKGxgGApHWCJUG5xzMGiu3HY/r+wdu6xsvLd5gOoPdoUPZ1ojixAUulivbobw7TEEofbj8MvByMtibjdN3JdIsgbKdCRGAUub+jtmg33H9h5CXgR/HFvu2cA421AXKcWQFHS2gla06ggqlG/m/Dn8AYcjgkbG1EXgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"生成类\"\n        title=\"生成类\"\n        src=\"/static/8d20086740c2834a4534f6e2618326b2/fcda8/generated.png\"\n        srcset=\"/static/8d20086740c2834a4534f6e2618326b2/12f09/generated.png 148w,\n/static/8d20086740c2834a4534f6e2618326b2/e4a3f/generated.png 295w,\n/static/8d20086740c2834a4534f6e2618326b2/fcda8/generated.png 590w,\n/static/8d20086740c2834a4534f6e2618326b2/efc66/generated.png 885w,\n/static/8d20086740c2834a4534f6e2618326b2/c83ae/generated.png 1180w,\n/static/8d20086740c2834a4534f6e2618326b2/eb1d2/generated.png 1622w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n接下来，我们就可以使用了。代码如下：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">public class MainActivity extends AppCompatActivity {\n    private ActivityMainBinding mainBinding;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        mainBinding = ActivityMainBinding.inflate(LayoutInflater.from(this));\n        setContentView(mainBinding.getRoot());\n        mainBinding.button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                mainBinding.text.setText(&quot;hello view binding&quot;);\n            }\n        });\n    }\n}</code></pre></div>\n<p>THE END</p>","frontmatter":{"title":"android view binding","tags":["android","view-binding"],"date":"March 09, 2020","description":"android view binding "}}},"pageContext":{"slug":"/android/view-binding/","previous":{"fields":{"slug":"/myblog/strapi-api/"},"frontmatter":{"title":"strapi提供api服务","tags":["strapi","restful"]}},"next":{"fields":{"slug":"/react/hook/"},"frontmatter":{"title":"react hook特性","tags":["react","hook"]}}}}}