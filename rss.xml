<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[孙某 Blog]]></title><description><![CDATA[技术文章随笔，前沿技术，Android、Flutter、React、Gatsby、C++、JavaScript、嵌入式、汽车电子]]></description><link>http://www.sunmou.cn</link><generator>GatsbyJS</generator><lastBuildDate>Sat, 04 Apr 2020 01:27:18 GMT</lastBuildDate><item><title><![CDATA[CommonJs模块规范中module.exports和exports]]></title><description><![CDATA[之前用React基本上都是用export/import来导入，导出模块。但Nodejs不支持，需要用CommonJs的module。 每一个node.js执行文件，都自动创建一个module对象，同时，module对象会创建一个叫exports…]]></description><link>http://www.sunmou.cn/nodejs/commonjs-exports/</link><guid isPermaLink="false">http://www.sunmou.cn/nodejs/commonjs-exports/</guid><pubDate>Sat, 04 Apr 2020 09:17:03 GMT</pubDate><content:encoded>&lt;p&gt;之前用React基本上都是用export/import来导入，导出模块。但Nodejs不支持，需要用CommonJs的module。&lt;/p&gt;
&lt;p&gt;每一个node.js执行文件，都自动创建一个module对象，同时，module对象会创建一个叫exports的属性，初始化的值是 {}  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;exports其实是指向module.exports的引用；&lt;/li&gt;
&lt;li&gt;require() 返回的是 module.exports 而不是 exports；&lt;/li&gt;
&lt;li&gt;module.exports 的初始值为一个空对象{}，所以 exports也为空对象{}；&lt;/li&gt;
&lt;li&gt;module.exports对象不为空的时候exports对象就自动忽略；&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[将Blog布置到Github上]]></title><description><![CDATA[Blog之前一直在自己的服务器。一年几百块钱，也是不小的数目。 所以就把Blog搬到了Github的pages上，方法也比较简单。 安装gh-pages工具，在Blog的根目录下执行：  增加部署命令：    部署到Github上：  域名设置： 在阿里云无名那里建立CNAME…]]></description><link>http://www.sunmou.cn/myblog/deploy-blog/</link><guid isPermaLink="false">http://www.sunmou.cn/myblog/deploy-blog/</guid><pubDate>Mon, 30 Mar 2020 18:42:03 GMT</pubDate><content:encoded>&lt;p&gt;Blog之前一直在自己的服务器。一年几百块钱，也是不小的数目。&lt;br&gt;
所以就把Blog搬到了Github的pages上，方法也比较简单。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;安装gh-pages工具，在Blog的根目录下执行：&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;npm install gh-pages --save&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;增加部署命令：&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;quot;deploy&amp;quot;: &amp;quot;gatsby build --prefix-paths &amp;amp;&amp;amp; gh-pages -d public&amp;quot;&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;部署到Github上：&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;npm run deploy&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;域名设置：&lt;/li&gt;
&lt;li&gt;在阿里云无名那里建立CNAME类型的解析，并把地址解析指向yourname.github.io。  &lt;/li&gt;
&lt;li&gt;在Github的代码库的设置里，把Custom Domain设置成你的域名，我这里设置成了www.sunmou.cn。  &lt;/li&gt;
&lt;li&gt;在根目录里新建一个目录static，创建一个文件CNAME，内容为域名地址，我这里为www.sunmou.cn。  &lt;/li&gt;
&lt;li&gt;
&lt;p&gt;再次部署 &lt;code class=&quot;language-text&quot;&gt;npm run deploy&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;我的Blog代码库&lt;a href=&quot;https://github.com/spmno/sunmou.cn&quot;&gt;https://github.com/spmno/sunmou.cn&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[Material Design概述]]></title><description><![CDATA[资料基本上来自于Google的Material Design网站，https://material.io/
谷歌对设计原则，组件，Icons，辅助设计，开发都做了相关的建议。 设计 Layout: 可预测，可感知，前后设计一致。响应式。  https://material.io…]]></description><link>http://www.sunmou.cn/design/material-design/</link><guid isPermaLink="false">http://www.sunmou.cn/design/material-design/</guid><pubDate>Wed, 25 Mar 2020 10:42:03 GMT</pubDate><content:encoded>&lt;p&gt;资料基本上来自于Google的Material Design网站，&lt;a href=&quot;https://material.io/&quot;&gt;https://material.io/&lt;/a&gt;
谷歌对设计原则，组件，Icons，辅助设计，开发都做了相关的建议。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;设计&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Layout: 可预测，可感知，前后设计一致。响应式。  &lt;a href=&quot;https://material.io/design/layout/responsive-layout-grid.html#&quot;&gt;https://material.io/design/layout/responsive-layout-grid.html#&lt;/a&gt;&lt;br&gt;
大部分组件8dp对齐，Icon 4dp对齐。&lt;br&gt;
三个概念Column，Gutter，Margin
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAByElEQVQoz01R21baUBDl/z9JdC1LFyoFQkMw5HZycq65oIiltbYvuzOnID5sZjL7kjAzstai9R5KNrgaj+GchWs9vHeXegZx3dDj5uYaRVWi77ug6XwLZx0s8SNutLeIRYpkOkdZNjCZ+KiiaNDkdUBVSDjCt1mEOskghIZcZ4iKBJo/hLJGnn5qrzG1a7xtLep6hx8p1wGv9KyrHkPuA7h/JU7pPY5bB0Ga40ZhatYhw58DpTe402scEgkpdzikhsQ9DlsDVXXocxfAPc+E6D40R6oz94jaaThjL184zu4hv0SYL7bQDxusViUU1STKUcy3AdyrE3fW2LsE1/kMTWex64dzoAnD+naJxTJDFxXYbBp0ZMipyu9VQH6aBY40aaoxLHNM6gibkna5WP4PFE7ha7PCX9qRtQccaV9l2eJN9Gj1M/rCB3DPM+ZYY8wL3osWUxUjfkwwu3/4FChXeCehsS/4SeayavGblt7SAS6B+zBjjjWGXv6n7DAhr2w//WVBC53ICL8yi0Y9hevmhcOR3m7pSC3NGdzzjDnWsJY97BVWXY7CgbdigX0sgngX17QfhSe6uiCDpqpPPc+YYw1r2cNezuCsf1QS0JASz8CwAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;布局概念&quot;
        title=&quot;布局概念&quot;
        src=&quot;/static/0a6b2c41790cfd8b718af095e4b8fb49/fcda8/layout-responsive-columns-margins-gutters.png&quot;
        srcset=&quot;/static/0a6b2c41790cfd8b718af095e4b8fb49/12f09/layout-responsive-columns-margins-gutters.png 148w,
/static/0a6b2c41790cfd8b718af095e4b8fb49/e4a3f/layout-responsive-columns-margins-gutters.png 295w,
/static/0a6b2c41790cfd8b718af095e4b8fb49/fcda8/layout-responsive-columns-margins-gutters.png 590w,
/static/0a6b2c41790cfd8b718af095e4b8fb49/efc66/layout-responsive-columns-margins-gutters.png 885w,
/static/0a6b2c41790cfd8b718af095e4b8fb49/c83ae/layout-responsive-columns-margins-gutters.png 1180w,
/static/0a6b2c41790cfd8b718af095e4b8fb49/891d5/layout-responsive-columns-margins-gutters.png 1520w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
    &lt;/span&gt;
列(Column)：根据百分比定义，而不是固定值。&lt;br&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABRElEQVQoz41R2W7CMBDk/z+nf8ALlXpBA2lC7pC1HQNCSSvKEbVTe93QPpTCw8ij3dnxeD0QQoBBBPo+mUsBMqcMU4i8hIxzyChzGiV5xvb72d5n0BNukuABmeSovTmUMasnIdQsgppGjptaceehDOLTHP1leEppkjWVwnGcoatW6AJClyoHw4+mZnstadb+TnfWcLOQOEwyHj68LHCIhYPh+1Kj8wq0QqP6z5D63Zn9FLMQyc0Q2egJeuRB3/sOhttnL4djiHl6Skjnd0h8qzIf0Nz6aOYlts8p2qmD5W8JYfsQQaclKnHRUBgRYV0QEEpAt0C2xN4818Jy1A0QCKxzYi1/5CXDVV4BfoUPuQGSGruIGJZ/2prvNFcbcsJAujQmVf8pPwkla64wJN6L3c/uMcY2k3if5nidZQzLbc32zu3wC3Gg3mCNE0o5AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;360dp columns&quot;
        title=&quot;360dp columns&quot;
        src=&quot;/static/2d313c101fcf6e3fe1b3b0bbcfc5f030/fcda8/layout-responsive-columns-360.png&quot;
        srcset=&quot;/static/2d313c101fcf6e3fe1b3b0bbcfc5f030/12f09/layout-responsive-columns-360.png 148w,
/static/2d313c101fcf6e3fe1b3b0bbcfc5f030/e4a3f/layout-responsive-columns-360.png 295w,
/static/2d313c101fcf6e3fe1b3b0bbcfc5f030/fcda8/layout-responsive-columns-360.png 590w,
/static/2d313c101fcf6e3fe1b3b0bbcfc5f030/efc66/layout-responsive-columns-360.png 885w,
/static/2d313c101fcf6e3fe1b3b0bbcfc5f030/c83ae/layout-responsive-columns-360.png 1180w,
/static/2d313c101fcf6e3fe1b3b0bbcfc5f030/891d5/layout-responsive-columns-360.png 1520w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABkElEQVQoz2VQXXPaMBDk//+oPvShk04mEAY7FvIntj4sO41NgA4GOts72UMgPOzs6vZuddJMaQ2tlAfr7zBRAp1tYOIcZp09+NoYmCmDzzPNBh1MkqMOYtgohWUWE6/kPa6e9FwuQuShGMM5kMO0NdjZFkOwwXnT4CzUFxcO58SOYH3rEZ/C0s8qyuAtr4Fb7XAMCpzKBkNU4VjUGESFIbMYYj2CtZi8qedEvK/focz47Jl/Ox0qkaD88Yzy9xLNUwD3uoZ7WsHNI7jntxGsuUZeQ1y/CjS/VtAyeww0VDQ/57A01M8l/oQptosYfZijW8YerLnGHvf0UYHti0SdblDpayBtpxXaQgGpA+oe57XGPq6ArAH0B45r5cGaa+xxD0wHxBZtXvkMzvoKpCLiGrAdLtLQEAXkLYV0OErlwZpr7HEPbA8ktV/mIbChwIvQuKh3/+GfssQ/uv1StvgrSg/WXGOPe7iXZ5r7DZV/v6N/OCxT7BOFHXH3luEQ5DjICttV6sGaa+ztpl6ecTd/+B8sc95g9x/QmwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;600dp columns&quot;
        title=&quot;600dp columns&quot;
        src=&quot;/static/88db37f750afdd04be648a1b8ea1302b/fcda8/layout-responsive-columns-600.png&quot;
        srcset=&quot;/static/88db37f750afdd04be648a1b8ea1302b/12f09/layout-responsive-columns-600.png 148w,
/static/88db37f750afdd04be648a1b8ea1302b/e4a3f/layout-responsive-columns-600.png 295w,
/static/88db37f750afdd04be648a1b8ea1302b/fcda8/layout-responsive-columns-600.png 590w,
/static/88db37f750afdd04be648a1b8ea1302b/efc66/layout-responsive-columns-600.png 885w,
/static/88db37f750afdd04be648a1b8ea1302b/c83ae/layout-responsive-columns-600.png 1180w,
/static/88db37f750afdd04be648a1b8ea1302b/891d5/layout-responsive-columns-600.png 1520w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
    &lt;/span&gt;
沟(Gutter)：两个列之间的空间，根据不同的宽度确定不同的固定值。360dp为16dp， 600dp为24dp。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABC0lEQVQoz61Qa0/DMAzc//9PfOfrgGlU6rpAm7SjLX3T19bDF9jUCahAItLJF9s5X7zSWuOMIAgukTC8f8Y518Zc9c+x+lZMYmg0HgMDX7injQW5Q+662Ct1NfyL4Fz4Nctw6js47Yh6GBD1o0U9jDbHWpbnyw7ngkma4th1cOVx2XYwbx8gd5oOkwyhoO/7y18+T9x5Hrb3d7hxdlDyxY0OLZTUboMIB4nPIjZf0+IOufRCXK7THGlZYZ8VFuQPeYW2KhFG0cXhoiCb4iQBz9MJGCUeZH8EuTraku35teBLHNtH3jChn4Cw7S3ImeNhz58d0s2/OOR++qbGpmiQ1Q1UXlqQM8faTzt8B96t6Y2kkvS3AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;360dp gutters&quot;
        title=&quot;360dp gutters&quot;
        src=&quot;/static/38789a46108e488173b14d497f3c0cc2/fcda8/ayout-responsive-gutters-360.png&quot;
        srcset=&quot;/static/38789a46108e488173b14d497f3c0cc2/12f09/ayout-responsive-gutters-360.png 148w,
/static/38789a46108e488173b14d497f3c0cc2/e4a3f/ayout-responsive-gutters-360.png 295w,
/static/38789a46108e488173b14d497f3c0cc2/fcda8/ayout-responsive-gutters-360.png 590w,
/static/38789a46108e488173b14d497f3c0cc2/efc66/ayout-responsive-gutters-360.png 885w,
/static/38789a46108e488173b14d497f3c0cc2/c83ae/ayout-responsive-gutters-360.png 1180w,
/static/38789a46108e488173b14d497f3c0cc2/891d5/ayout-responsive-gutters-360.png 1520w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABhElEQVQoz3VR2U7CUBTk///IJ580QRMIgjQUaYHe29K9tHQDdTxTigGMD5OzzJJ72oFSClprdFXgXVX3H9xoxKtdt5uZMbiEuVphK8RMubC0C0OwEiwEyx6LfkfOEt+79rC0bVirFRSDBQOGcSiLHHHdYFSd4LcnzOoTdHOCKXXdnGH2O3LUUJs0bedVlxdeTs6zDFFZYVId4VUNZmULJXVRNrB7sFc9t5M6PjRIJbA6FLjk/J6sNhtMPyw82AqG6+FJ+5jKSUO9w7gHe+7IGVIfpa5E6/avuwnk0lhvz6IowUuQYBmnmMQZZmHSgT135Kh5jvbQSYrA8+BcBzqOgySKUAOYfwJ+c8QkrxB+AWuZLTmVYM8dOWrej8BB5jgMu4y7wBBlHxjIB38rakTfwEYMdtV2YM8dOWqorcRD75/AKPCR1C3G5RG6KDFKC2iZTflJ5v5whvTcdZxoqKWH3rtAhWC3g7fPMRSxnWR4DVNYWY6pzHP5dgR77shRQy099DKDWT/+IeiC8YHuYgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;600dp gutters&quot;
        title=&quot;600dp gutters&quot;
        src=&quot;/static/a990f24e67545102198995b76e851032/fcda8/layout-responsive-gutters-600.png&quot;
        srcset=&quot;/static/a990f24e67545102198995b76e851032/12f09/layout-responsive-gutters-600.png 148w,
/static/a990f24e67545102198995b76e851032/e4a3f/layout-responsive-gutters-600.png 295w,
/static/a990f24e67545102198995b76e851032/fcda8/layout-responsive-gutters-600.png 590w,
/static/a990f24e67545102198995b76e851032/efc66/layout-responsive-gutters-600.png 885w,
/static/a990f24e67545102198995b76e851032/c83ae/layout-responsive-gutters-600.png 1180w,
/static/a990f24e67545102198995b76e851032/891d5/layout-responsive-gutters-600.png 1520w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
    &lt;/span&gt;
边距(Margin)：内容与左右边距的空间。和Gutter一样，根据不同的宽度确定不同的固定值。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABDElEQVQoz52QfU+DMBDG9/0/lv+YGJPhZsyYyKBvmsAAKVrAjMdeCVlRFhcveXKFe+7X662klJgkhHBZifF8SUopvEoFST4p4DNWP2Hc5p04QCo5M/qKogiPyX6EiXPvHGiLyuZUMKzzGKY1+Op79AsybYuHIkHCmevxp5wB5QTMXvBpgdTc2uZf6jtsi/QPoBjHZ5LjJg6w2W4QhuHikwlwy5/c5f66FndIpju1Q3bMURYFtNYoy9Kp1jXqusa7zfdv+/OEl4BUTFiKID/Aj+mpfgR2zwlPrwBa0zqLccKA4TS4ZmOMEwX9oxp5rgbS7X50Xef0zwmZ3c8z9EeDphlVVZXT9E018izt8BvD5OmczkEQbAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;360dp margin&quot;
        title=&quot;360dp margin&quot;
        src=&quot;/static/ce84c847dcdcd08d7c1d42153b52a6c0/fcda8/ayout-responsive-margins-360.png&quot;
        srcset=&quot;/static/ce84c847dcdcd08d7c1d42153b52a6c0/12f09/ayout-responsive-margins-360.png 148w,
/static/ce84c847dcdcd08d7c1d42153b52a6c0/e4a3f/ayout-responsive-margins-360.png 295w,
/static/ce84c847dcdcd08d7c1d42153b52a6c0/fcda8/ayout-responsive-margins-360.png 590w,
/static/ce84c847dcdcd08d7c1d42153b52a6c0/efc66/ayout-responsive-margins-360.png 885w,
/static/ce84c847dcdcd08d7c1d42153b52a6c0/c83ae/ayout-responsive-margins-360.png 1180w,
/static/ce84c847dcdcd08d7c1d42153b52a6c0/891d5/ayout-responsive-margins-360.png 1520w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
    &lt;/span&gt;&lt;/li&gt;
&lt;li&gt;Navigation: 分为侧向导航，前向导航，返回导航。
横向导航(Lateral navigation)：侧边栏，底部导航，Tab导航。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/26ff6c4854e73c1ffce3e54697d1ab70/891d5/lateral-nav-drawer.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.71052631578947%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAABb0lEQVQ4y6WTy0rDQBiFfQ6fyJ3P4N6HcCkouBHEBl26ENGNeEnFveu6aZFKksnFXMwkTTNpbXKcSxOqQhvpwOFPFvPN+W8btm1DiBDyI8aUwrIsWKbZyDRMuC7B480LLk6e/9wR2lgECjmOg0F/gNurS4yzDIwxqYIVyMc5gAp7O9fY2jyUDzrOCqDneej1XnF+dCAvL55q/qvt32N3+5gDyXKgiOLVIAjguB4Mw8Bw+C4dilOWpYzdJx3a2enqlGtgGPn4pBzqcce+A1aMlUMooK7r6HQ0fsdaDSS2Cc9MQC2AxVwUGPOYRSVG4QzTEfBwJ4AdmfJyIOHfjgWzH4H0vuC+MQTGhIMqpH6J5GOGgiqgprUB1jUMfcwqDsqSJl3VINWVblc5bF3DKIzkiLCcYTqZzjtcNU1RNWwJrEeH0gRxHDcdFsCqrP4PrMdGgPI8R1EUCraOQ7EtlK9emqYyrpWyyXc2SZJfG9Le4TffTbkmT2zFVAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;drawer&quot;
        title=&quot;drawer&quot;
        src=&quot;/static/26ff6c4854e73c1ffce3e54697d1ab70/fcda8/lateral-nav-drawer.png&quot;
        srcset=&quot;/static/26ff6c4854e73c1ffce3e54697d1ab70/12f09/lateral-nav-drawer.png 148w,
/static/26ff6c4854e73c1ffce3e54697d1ab70/e4a3f/lateral-nav-drawer.png 295w,
/static/26ff6c4854e73c1ffce3e54697d1ab70/fcda8/lateral-nav-drawer.png 590w,
/static/26ff6c4854e73c1ffce3e54697d1ab70/efc66/lateral-nav-drawer.png 885w,
/static/26ff6c4854e73c1ffce3e54697d1ab70/c83ae/lateral-nav-drawer.png 1180w,
/static/26ff6c4854e73c1ffce3e54697d1ab70/891d5/lateral-nav-drawer.png 1520w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ce28450fdb582c6a8013f2bf6264d962/891d5/lateral-bottom-nav.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAA4UlEQVQoz+2QXWoCQRCE5yGPeqN4Fs1CHvQGYoIQcwgPEH/wAt7H7tkoyf4EdwyB3Smnd1DWhVUPkIKiofrrYhiltUbVRARjDETWWtR1yoQRtn6v/gtLKMt8YVFY2JolEwlzd+Hvn8EtCXO9kP1kJnzxHmlokX7mZyehd7rNy50wwlZvLwqZ2Vkj3DImjzs8qQQ9FWHQThCoGM8PMfqtBF2XBSrFe2dXsnIjt42FOmSspxt8DAmzEWH1Rli8EuYvhOXYZzO3E0bYxkJvD3z/MOKDd5S5aSo++ClM+QDNF394BB4j32kq+djYAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;bottom&quot;
        title=&quot;bottom&quot;
        src=&quot;/static/ce28450fdb582c6a8013f2bf6264d962/fcda8/lateral-bottom-nav.png&quot;
        srcset=&quot;/static/ce28450fdb582c6a8013f2bf6264d962/12f09/lateral-bottom-nav.png 148w,
/static/ce28450fdb582c6a8013f2bf6264d962/e4a3f/lateral-bottom-nav.png 295w,
/static/ce28450fdb582c6a8013f2bf6264d962/fcda8/lateral-bottom-nav.png 590w,
/static/ce28450fdb582c6a8013f2bf6264d962/efc66/lateral-bottom-nav.png 885w,
/static/ce28450fdb582c6a8013f2bf6264d962/c83ae/lateral-bottom-nav.png 1180w,
/static/ce28450fdb582c6a8013f2bf6264d962/891d5/lateral-bottom-nav.png 1520w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8c4b0bdfc1a24b444b7a772d591515f1/891d5/lateral-tabs.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 47.368421052631575%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAAB1ElEQVQoz4WPX0hTYRiHDxHUZdCFVOxmgRaBSIWkRHjhbaklrBJZRVaCBonRH2iWtPSm2SpC2sJM5hajwqJNKkK6iP4no5vKKPadc+ZZ85wzuurq6fOzYJCriwfe7/3e9+H3aoZhMI+u6xJZmzr3I1+4cfozN/tmFKPnFlD12Rli/d9Ij3yVezqGvrD7x6OVCg0lFAS2Clq0HP5lOXyayc7f7JG9vZJdmsWZOoGZE/8WqoRy6ELDLH7NoWuFw8ElNgc0m/3y3bHU4fByR/65BLdZSqj/N6Ecuro7T3/NT/pqivR6fnDCW+Sk16anosApb4Hja2xCTaaaLZtwHiEEees7z188IxDsJhGPcPFygNGxYa4n3nA++ppQ7ANDY9O8zQisXEmQxYTZbBbHLjLxcJyOzkZSE+PcS0aJ3QoTiD6iqTtMTzDCYHKa95+kcNZElKRbNGGhMMfU0yeMXAvxOJVmajLNx0yG4SuDNDfW0+tvITgwwMtX78jnLbVTXigTztk2k6kH+Fp30Nq8nX3tbYQvDXHs6CGqN1TSUL+Z2o3ruHsnieM46qqyQnWy48oz42yqrsLjWU3dllq6Oo/Q3uZjVcVK1ld5qVzr4XYijuu6fwl/ATPyMdE3IBcvAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;tab&quot;
        title=&quot;tab&quot;
        src=&quot;/static/8c4b0bdfc1a24b444b7a772d591515f1/fcda8/lateral-tabs.png&quot;
        srcset=&quot;/static/8c4b0bdfc1a24b444b7a772d591515f1/12f09/lateral-tabs.png 148w,
/static/8c4b0bdfc1a24b444b7a772d591515f1/e4a3f/lateral-tabs.png 295w,
/static/8c4b0bdfc1a24b444b7a772d591515f1/fcda8/lateral-tabs.png 590w,
/static/8c4b0bdfc1a24b444b7a772d591515f1/efc66/lateral-tabs.png 885w,
/static/8c4b0bdfc1a24b444b7a772d591515f1/c83ae/lateral-tabs.png 1180w,
/static/8c4b0bdfc1a24b444b7a772d591515f1/891d5/lateral-tabs.png 1520w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
前向导航(Forward navigation)：向下引入内容，一系列的流，引入到其它APP。&lt;br&gt;
实现方式：卡片，列表等容器，按钮中转，搜索，内容链接。&lt;br&gt;
返回导航(Reverse navigation)：返回键。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/fb83775bd4a8f47a59b971b26198b034/891d5/reverse-chronological.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACqElEQVQoz12SS0hUcRTG7yLKwChbBBEGQdCmIlq0SCFaFbqoVKiwspdoj0VZYuYtw6RyUWiQ4qOskV6Kb5oUpxxU1MxHxgzece7MOHcehq/ReZlT+OvOLKT6w8f/cBbnO+f7PkGv19PV3cvHzmGaP3XR0dBIrbaX6pdNXD5/CjEzlZT4/TS3tjA+amCuz4Br0o3b5cbldOJyuf6BIMsyLU0N3LmVRf2rAl48EqmrqaP2+WOupqWQlJRE4Y1LjH4bwiKZsQ8bsNisyGYziqKg2BXsdvsKBI9nDl1nD0XFFbQ0vqW0MIMnD66gKb5NWclTLpxMJjEhgYmJCZzqRvKELVJbLBampqYiPYfDEUGYQPgxOcnAiIHK2nZKXjRQWllOZXU5ZVU1vKtvI+V4KvEHDzFulpmZmSG0tITf74+ct7y8zP9PmJ+fR6OpITp6IzEbYzl3OYvr6deI3bAFIWoda6Jj2LptO5IkMT09jc/nx+v1MTs7RyAQJBAMEgwu8isU4vevUHigB03Na9ZGbyJ2605On83gYXoiiTs2cS/lAK73OQw9y8RuVTVzujDLVkzjskowztiYpMKE2WJjTiULeGYRvAsLlJVXsD5mM/v2xpF64gipmbs5dngXaXF7qLp5huSD8ZhMJuyqRn1fvvKps5uuHjUZOj2NrW20tH/GIlv46fUgBNWVc3NzEQQhgtVRq1bqvxE+WVHsDA70qY5/Q9tYp6aiAp1Oh76rB2mkH4ehHyEstFarJTs7m/w8kcJrOeSJIqKYx738fO7eEblfUIDNZlOdVJDGjDicCm+fV1J05SKyyYhNjYvU94GOChEhbHd4aHBxkcC8l9B3GwF/QBU8EHEz/Pt8PtxuN1arleHBAYxjBrSaNxQfPYdxdBijZMLQ3YRV/4o/IkxeaNm55tgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;reverse&quot;
        title=&quot;reverse&quot;
        src=&quot;/static/fb83775bd4a8f47a59b971b26198b034/fcda8/reverse-chronological.png&quot;
        srcset=&quot;/static/fb83775bd4a8f47a59b971b26198b034/12f09/reverse-chronological.png 148w,
/static/fb83775bd4a8f47a59b971b26198b034/e4a3f/reverse-chronological.png 295w,
/static/fb83775bd4a8f47a59b971b26198b034/fcda8/reverse-chronological.png 590w,
/static/fb83775bd4a8f47a59b971b26198b034/efc66/reverse-chronological.png 885w,
/static/fb83775bd4a8f47a59b971b26198b034/c83ae/reverse-chronological.png 1180w,
/static/fb83775bd4a8f47a59b971b26198b034/891d5/reverse-chronological.png 1520w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/li&gt;
&lt;li&gt;Color: 主颜色，次要颜色，亮暗主题。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 90.39473684210526%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAAEIUlEQVQ4y1WUS0xUVxzGzwwIpgPYxG5KVyya1E0XLUoxbTR1AYvGppu2dNe01XRlMFpprA0wDSg+ktKksaZx0Yfl0QYRhIoKg1QcXr6wOMNDkLkzd+487wwMUBj49ZwrRrzJl//JuTm/8z/f/c4VmuZHNzRCMam4RtiSn0hMJxLXiZpSssYD6/IHnigYJB4KETcMTCkjEEDTNISCjQ0F+KdZp69J58YfQXoafFxp9vB3k4eOCw/pkOPGCS8Nkw9pnJmgcXaKhru3aXC7aRwa4rfBQYbGxy2oiKU0/qwO8sUmk32bo3wqTD4U07yX38W7L3bypmjlDUc7GTe6EO42xINexOQtRP0pxIED2JzViKpKqq9eJRUOPwOWiRifZUT53GbykQTudnTwdvZlisQlCnPaybpzE/u0mwzPTTLG+7Gdrcd27BiZJ45bQOe1a88DP1ZAe8QClmVMW51tl7C3pHbktbP5vptNMwNkTbrJksDM82fJqK0l+2QdQnb53fV1YCSp0XrS4KsCky8dcfbZE3wgZvjk9W5253byjq2dbZmXEed/QriaEbfaERP9iOpvEPv3I76uQBw5wrGuLhYiEUQwpHHHFaD9e522MzqXThk0187S+OMov565xy91d/n59D1O3hnmuPcuJyYeUBeYoq6/jzrpW52rB6fU9bExwrqO0HwaRtiPuWCQWDSIpwJyLOORNEimQswvRpiTVR1nwQgzr8nI3B/D9E5iTjySmiIxPokx8xjN70f4fD6ikRh+n07AH2R5KU16ZY3VNJjxJHrAYHk5zX8rK6wBwb5B2l7eTotjGy0vvGbVZpHPSM0PBOeTiIDMzuzsLC6Xi7U1tQTi8Tjz8/OMjo7i8XisueWlJUKJOL4rLrp3vM9f4hUJ2kpr9qtctBUw/O1pgqk5hF+2GVhPeSwWIyKNDcpbYMj0q3e69CUajZJMJqUNCSIzszxq6WTywkUmfm9hqqmNqYZLPB68jd8ISg8lSAEV5ClAjZ8qJK+Xmu/u7rbU09uLy91P76Cb3qEBegfcdPff5F+vR9qjP/FQdaYWq7rx2WhBQUEB+fn5vLR1KzYhsK8rKzMTIauz2kkqlXrmYV9fH+l0mhVl/jpodXXVsmBc3tPS0lLy8vKsxTabDbvdbo23bNlCTk4OTqfT8l0kEgnOnTvHzp07KSsro6SkhKKiIoqLi9m1axd79+5lz5495ObmWoDCwkLrA6rjD8qfwvDwMCMjI3i9Xss6oahVVVU4HA5rwUapnbOzs5+bUxupr7/xUUdVHHVSEZaB7ZLXRrV88OBBDh06xNGjR6moqKCmpobKykrKy8s5fPiwpfr6eqsb5bdpmpYlKhFK1v9QfRQFVTssyawtLi6ysLBgaW5uztp947yKj0qCWqc6UlWBlFQa/gewDD1ILtjgugAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;color&quot;
        title=&quot;color&quot;
        src=&quot;/static/dbc1475057fc1aab85061ceef7e1b907/fcda8/color-colorsystem-schemecreation-theme.png&quot;
        srcset=&quot;/static/dbc1475057fc1aab85061ceef7e1b907/12f09/color-colorsystem-schemecreation-theme.png 148w,
/static/dbc1475057fc1aab85061ceef7e1b907/e4a3f/color-colorsystem-schemecreation-theme.png 295w,
/static/dbc1475057fc1aab85061ceef7e1b907/fcda8/color-colorsystem-schemecreation-theme.png 590w,
/static/dbc1475057fc1aab85061ceef7e1b907/efc66/color-colorsystem-schemecreation-theme.png 885w,
/static/dbc1475057fc1aab85061ceef7e1b907/c83ae/color-colorsystem-schemecreation-theme.png 1180w,
/static/dbc1475057fc1aab85061ceef7e1b907/891d5/color-colorsystem-schemecreation-theme.png 1520w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
    &lt;/span&gt;
工具：&lt;a href=&quot;https://www.materialpalette.com/&quot;&gt;https://www.materialpalette.com/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[dagger2的使用]]></title><description><![CDATA[依赖注入是设计模式基础原则之一，原则是上层模块不依赖于下层模块，而是依赖于一套抽象接口，上层模块调用接口，下层模块实现接口。 举一个google官网上的例子。 
汽车都有一个发动机，我们有…]]></description><link>http://www.sunmou.cn/java/dagger2/</link><guid isPermaLink="false">http://www.sunmou.cn/java/dagger2/</guid><pubDate>Sat, 21 Mar 2020 16:42:03 GMT</pubDate><content:encoded>&lt;p&gt;依赖注入是设计模式基础原则之一，原则是上层模块不依赖于下层模块，而是依赖于一套抽象接口，上层模块调用接口，下层模块实现接口。&lt;br&gt;
举一个google官网上的例子。
汽车都有一个发动机，我们有3种方法去得到发动机这个对象：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;汽车自己实例化发动机。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Car&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Engine&lt;/span&gt; engine &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Engine&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    engine&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyApp&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;Car&lt;/span&gt; car &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Car&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    car&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;用其它方法获得，比如从修理厂的getEngine方法获得一个。&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;发动机作为一个参数，把这个参数传到汽车的类里。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Car&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Engine&lt;/span&gt; engine&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Car&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Engine&lt;/span&gt; engine&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;engine &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; engine&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    engine&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyApp&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;Engine&lt;/span&gt; engine &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Engine&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;Car&lt;/span&gt; car &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Car&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;engine&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    car&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;第3种的实现就是依赖注入，依赖注入的好处：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Car的重用，如果有另外的发动机，可以直接利用Car中的方法。&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;更容易对Car类的测试。&lt;br&gt;
上面的注入方式，是手动注入的方式。下面我们来介绍一下通过Dagger来实现DI。  &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Car&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
＠&lt;span class=&quot;token class-name&quot;&gt;Inject&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;Engine&lt;/span&gt; engine&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Car&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;DaggerCarComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;inject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    engine&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Engine&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Inject&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Engine&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Engine, start!&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CarComponent&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;inject&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Car&lt;/span&gt; car&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MyApp&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;Car&lt;/span&gt; car &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Car&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    car&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;可以和上面的代码比较一下，只是通过注释来完成setEngine的过程，Dagger还会生成3个辅助类，如下图：&lt;br&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 447px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4e5302d4242e987bc2c465fd5146efc7/a2d48/dagger-generated.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 69.12751677852349%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAAB9UlEQVQ4y5WTaW7bMBCFfazWkiVSGymJ4qLFiWwnhYEg97/B63Biqw3ituiPhzdc5uMMKe1sJzDZEj98iXXusIwa3hSI866Xm/9Lcd9oK+xiMHuFd3fA5Wjwep7wNLX/BfsCnFyD91HiujqcjpahS1APgX86ZAPGwcBVNnhzGZ4JeFoMLxp9wNBmLKOzv17DbxXeNtC9XUJFlRY4nWe8rB4vpxEX8vOzZ4+HDq2AZcBdgj0WFSLQ06LvBT2EpNYrvE0lrlONlassee6uQIe6uLcXm3O+kTyOe3Z1LdDUkiRQkVstsY4G0zJi6BuopuB11UiOlSrYtSrZ7/l1JdBqAu4ziX0mwH4QSPMClQkYzleE+QjVGdRtj1r3qFTHKpsWslLIi5pzYu538kwSMM0lPiRwj5MkxcEdUXQDaqVhrEdvHVpj0Q8Oig5IqIioLYdiUTBQfAGmWY6MgF2YEcaZQAMrQm2gq3ABsqwfA++tfjtQ2WnOpe/JU79C+wVhWqB7i27wrNhqbC3J5dbup5ZVHS+zwEzfmTMNuraCqnO0QwdrW3ir+XHcoFi6iY+Q04MIiiWPo0dO3xGwo1cdA/1yrsTpySO4ljYTkKRjIkk3H87zigpQ8qZfcQSbCMyp785NMOMRxo3byyWZfKhPX8VNye3aMmL9BMd2AlgZN50KAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;生成类&quot;
        title=&quot;生成类&quot;
        src=&quot;/static/4e5302d4242e987bc2c465fd5146efc7/a2d48/dagger-generated.png&quot;
        srcset=&quot;/static/4e5302d4242e987bc2c465fd5146efc7/12f09/dagger-generated.png 148w,
/static/4e5302d4242e987bc2c465fd5146efc7/e4a3f/dagger-generated.png 295w,
/static/4e5302d4242e987bc2c465fd5146efc7/a2d48/dagger-generated.png 447w&quot;
        sizes=&quot;(max-width: 447px) 100vw, 447px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;br&gt;
如果Engine类不可以修改，无法在构造函数在注释。我们就需要Module的概念。@Provides提供需要的对象。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Module&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;EngineModule&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@Provides&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Engine&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;provideEngine&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Engine&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;其它的代码不变，Engine类的@Inject注释就不用了。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[RxJava, Retrofit, LiveData 简单例子]]></title><description><![CDATA[例子比较简单，就是从通过Github的Api取用户相关的信息。显示在主界面上。
代码地址：https://github.com/spmno/retrofit-test 先给出环境：在app的gradle加下面库，更新为最新版本。 布局比较简单，就用了一个EditText…]]></description><link>http://www.sunmou.cn/java/rxjava/</link><guid isPermaLink="false">http://www.sunmou.cn/java/rxjava/</guid><pubDate>Wed, 18 Mar 2020 12:10:03 GMT</pubDate><content:encoded>&lt;p&gt;例子比较简单，就是从通过Github的Api取用户相关的信息。显示在主界面上。
代码地址：&lt;a href=&quot;https://github.com/spmno/retrofit-test&quot;&gt;https://github.com/spmno/retrofit-test&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;先给出环境：在app的gradle加下面库，更新为最新版本。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  implementation &amp;#39;com.squareup.retrofit2:retrofit:2.7.2&amp;#39;
  implementation &amp;#39;com.squareup.retrofit2:converter-gson:2.7.2&amp;#39;
  implementation &amp;#39;com.squareup.retrofit2:adapter-rxjava2:2.7.2&amp;#39;
  implementation &amp;#39;com.squareup.okhttp3:okhttp:4.4.0&amp;#39;
  implementation &amp;#39;com.squareup.okhttp3:logging-interceptor:4.4.0&amp;#39;
  implementation &amp;quot;io.reactivex.rxjava2:rxjava:2.2.19&amp;quot;
  implementation &amp;#39;io.reactivex.rxjava2:rxandroid:2.1.1&amp;#39;

  def lifecycle_version = &amp;quot;2.2.0&amp;quot;
  // ViewModel
  implementation &amp;quot;androidx.lifecycle:lifecycle-viewmodel:$lifecycle_version&amp;quot;
  // LiveData
  implementation &amp;quot;androidx.lifecycle:lifecycle-livedata:$lifecycle_version&amp;quot;
  // Lifecycles only (without ViewModel or LiveData)
  implementation &amp;quot;androidx.lifecycle:lifecycle-runtime:$lifecycle_version&amp;quot;

  // Saved state module for ViewModel
  implementation &amp;quot;androidx.lifecycle:lifecycle-viewmodel-savedstate:$lifecycle_version&amp;quot;
  // Annotation processor
  annotationProcessor &amp;quot;androidx.lifecycle:lifecycle-compiler:$lifecycle_version&amp;quot;
  // alternately - if using Java8, use the following instead of lifecycle-compiler
  implementation &amp;quot;androidx.lifecycle:lifecycle-common-java8:$lifecycle_version&amp;quot;
  // optional - ReactiveStreams support for LiveData
  implementation &amp;quot;androidx.lifecycle:lifecycle-reactivestreams:$lifecycle_version&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;布局比较简单，就用了一个EditText来显示取回来的数据。这里就不贴代码了。  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;创建retrofit Api的interface:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;io&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;reactivex&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Observable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;retrofit2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;http&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;GET&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;retrofit2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;http&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GithubApi&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@GET&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;users/{name}&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;Observable&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;GithubUserResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getUserInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Path&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;因为API的地址是&lt;a href=&quot;https://api.github.com/users/%7Bname%7D%EF%BC%8C%E6%89%80%E4%BB%A5%E8%BF%99%E9%87%8C%E7%94%A8%E4%BA%86Path%E3%80%82&quot;&gt;https://api.github.com/users/{name}，所以这里用了Path。&lt;/a&gt;
如果是参数的话，还可以用Query，比如下面例子：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NewsApi&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@GET&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;top-headlines&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token class-name&quot;&gt;Observable&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;NewsResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getNewsList&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Query&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;sources&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; newsSource&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token annotation punctuation&quot;&gt;@Query&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;apiKey&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; apiKey&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这种对应的API地址是：&lt;a href=&quot;http://newsapi.org/v2/top-headlines?sources=techcrunch&amp;#x26;apiKey=7d60a0fa1dec462eb682c0e256f709a8%E3%80%82&quot;&gt;http://newsapi.org/v2/top-headlines?sources=techcrunch&amp;#x26;apiKey=7d60a0fa1dec462eb682c0e256f709a8。&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;创建Retrofit Service:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; okhttp3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;OkHttpClient&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;okhttp3&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;logging&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpLoggingInterceptor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; retrofit2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Retrofit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;retrofit2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;adapter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;rxjava2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RxJava2CallAdapterFactory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;retrofit2&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;converter&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;gson&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;GsonConverterFactory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RetrofitService&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Retrofit&lt;/span&gt; retrofit&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createGithubService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Class&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; serviceClass&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serviceClass&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://api.github.com/&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Class&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; serviceClass&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; baseUrl&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;HttpLoggingInterceptor&lt;/span&gt; logging &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HttpLoggingInterceptor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// set your desired log level&lt;/span&gt;
    logging&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setLevel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HttpLoggingInterceptor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Level&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;BODY&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token class-name&quot;&gt;OkHttpClient&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Builder&lt;/span&gt; httpClient &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;OkHttpClient&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Builder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// add your other interceptors …&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// add logging as last interceptor&lt;/span&gt;
    httpClient&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addInterceptor&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;logging&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;// &amp;lt;-- this is the important line!&lt;/span&gt;

    retrofit &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Retrofit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Builder&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;baseUrl&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;baseUrl&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addCallAdapterFactory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;RxJava2CallAdapterFactory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;addConverterFactory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;GsonConverterFactory&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;httpClient&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; retrofit&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serviceClass&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这里加了Okhttp的HttpLoggingInterceptor工具，这个工具可以将Request和Response的Log都打出来，方便调试。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;建立Github的ViewModel，存储LiveData对象：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;androidx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lifecycle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MutableLiveData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;androidx&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lifecycle&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ViewModel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;io&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;reactivex&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;android&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;schedulers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;AndroidSchedulers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;io&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;reactivex&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;schedulers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Schedulers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GithubUserViewModel&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ViewModel&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MutableLiveData&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;GithubUserResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getGithubUserResponseMutableLiveData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; githubUserResponseMutableLiveData&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setGithubUserResponseMutableLiveData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;MutableLiveData&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;GithubUserResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; githubUserResponseMutableLiveData&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;githubUserResponseMutableLiveData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; githubUserResponseMutableLiveData&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token class-name&quot;&gt;MutableLiveData&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;GithubUserResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; githubUserResponseMutableLiveData&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getUserInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;GithubApi&lt;/span&gt; githubApi &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RetrofitService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createGithubService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;GithubApi&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    githubApi&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getUserInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;spmno&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;subscribeOn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Schedulers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;observeOn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;AndroidSchedulers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mainThread&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                userInfo &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;githubUserResponseMutableLiveData&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userInfo&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    throwable &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;token class-name&quot;&gt;Log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;GithubApi&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; throwable&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;//初始化LiveData&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;GithubUserResponse&lt;/span&gt; githubUserResponse &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GithubUserResponse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    githubUserResponseMutableLiveData &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MutableLiveData&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;githubUserResponse&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这里用了RxJava和Retrofit结合，将网络操作放到io线程，刷新UI的操作放到了主线程。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;MainActivity，创建ViewModel&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;MainActivity&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;AppCompatActivity&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ActivityMainBinding&lt;/span&gt; activityMainBinding&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GithubUserViewModel&lt;/span&gt; githubUserViewModel&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;onCreate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Bundle&lt;/span&gt; savedInstanceState&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;onCreate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;savedInstanceState&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    activityMainBinding &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ActivityMainBinding&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;inflate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;LayoutInflater&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setContentView&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;activityMainBinding&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getRoot&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    githubUserViewModel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ViewModelProvider&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;GithubUserViewModel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    githubUserViewModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    githubUserViewModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getGithubUserResponseMutableLiveData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;observe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            userInfo &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token class-name&quot;&gt;Log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Main&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; userInfo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
                activityMainBinding&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;editText&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userInfo&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    githubUserViewModel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getUserInfo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这个例子就结束了，在谷歌推荐的架构中没有用到Repository，主要是功能太简单了。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[Android组件Room]]></title><description><![CDATA[Room 持久性库在 SQLite 的基础上提供了一个抽象层，让用户能够在充分利用 SQLite 的强大功能的同时，获享更强健的数据库访问机制。 谷歌官方强烈建议您使用 Room（而不是 SQLite）具体可见：https://developer.android.google…]]></description><link>http://www.sunmou.cn/android/room/</link><guid isPermaLink="false">http://www.sunmou.cn/android/room/</guid><pubDate>Mon, 16 Mar 2020 17:17:03 GMT</pubDate><content:encoded>&lt;p&gt;Room 持久性库在 SQLite 的基础上提供了一个抽象层，让用户能够在充分利用 SQLite 的强大功能的同时，获享更强健的数据库访问机制。&lt;br&gt;
&lt;font color=red&gt;谷歌官方强烈建议您使用 Room（而不是 SQLite）&lt;/font&gt;具体可见：&lt;a href=&quot;https://developer.android.google.cn/training/data-storage/room&quot;&gt;https://developer.android.google.cn/training/data-storage/room&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Room 包含 3 个主要组件：&lt;/p&gt;
&lt;p&gt;Database：包含数据库持有者，并作为应用已保留的持久关系型数据的底层连接的主要接入点。&lt;br&gt;
Entity：表示数据库中的表。&lt;br&gt;
DAO：包含用于访问数据库的方法。  &lt;/p&gt;
&lt;p&gt;我们来看一下，三个组件的具体定义：
DataBase：定义数据库名称，外部访问的单例方法。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;@Database(entities = {User.class}, version = 1)
public abstract class AppDataBase extends RoomDatabase {
    public abstract UserDao userDao();
    private static AppDataBase instance;

    static AppDataBase getInstance(final Context context) {
        if (instance == null) {
            synchronized (AppDataBase.class) {
                if (instance == null) {
                    instance = Room.databaseBuilder(context.getApplicationContext(), AppDataBase.class, &amp;quot;app&amp;quot;)
                            .addCallback(callback)
                            .build();
                }
            }
        }
        return instance;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Entity：定义数据库表的类型，包括其中的字段。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;@Entity
public class User {
    @PrimaryKey(autoGenerate = true)
    public int id;
    private String firstName;
    private String lastName;

    public String getFirstName() {
        return firstName;
    }

    public void setFirstName(String firstName) {
        this.firstName = firstName;
    }

    public String getLastName() {
        return lastName;
    }

    public void setLastName(String lastName) {
        this.lastName = lastName;
    }

    public User(String firstName, String lastName) {
        this.firstName = firstName;
        this.lastName = lastName;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;DAO：定义访问数据库的方法，主要是完成SQL语句的注释。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;@Dao
public interface UserDao {
    @Insert
    public long insertUser(User user);

    @Update
    public int updateUser(User user);

    @Delete
    public int deleteUser(User user);

    @Query(&amp;quot;SELECT * FROM user&amp;quot;)
    public LiveData&amp;lt;List&amp;lt;User&amp;gt;&amp;gt; getAllUser();

    @Query(&amp;quot;DELETE FROM user&amp;quot;)
    public void deleteAllUser();
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;使用方法见UserRepository：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;public class UserRepository {
    private final UserDao userDao;
    private LiveData&amp;lt;List&amp;lt;User&amp;gt;&amp;gt; users;

    UserRepository(Application application) {
        AppDataBase db = AppDataBase.getInstance(application);
        userDao = db.userDao();
        users = userDao.getAllUser();
    }

    LiveData&amp;lt;List&amp;lt;User&amp;gt;&amp;gt; getUsers() {
        return users;
    }

    public void insert(User user) {
        new insertAsyncTask(userDao).execute(user);
    }

    private static class insertAsyncTask extends AsyncTask&amp;lt;User, Void, Void&amp;gt; {
        private UserDao asyncTaskUserDao;
        insertAsyncTask(UserDao userDao) {
            asyncTaskUserDao = userDao;
        }


        @Override
        protected Void doInBackground(User... users) {
            asyncTaskUserDao.insertUser(users[0]);
            return null;
        }
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[java8 Predicate]]></title><description><![CDATA[在使用Stream的时候，我们发现Stream上的参数，很多都是Predicate类型，我们现在了解一下Predicate吧。
官方文档：https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate…]]></description><link>http://www.sunmou.cn/java/java8-predicate/</link><guid isPermaLink="false">http://www.sunmou.cn/java/java8-predicate/</guid><pubDate>Sun, 15 Mar 2020 10:56:18 GMT</pubDate><content:encoded>&lt;p&gt;在使用Stream的时候，我们发现Stream上的参数，很多都是Predicate类型，我们现在了解一下Predicate吧。
官方文档：&lt;a href=&quot;https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html&quot;&gt;https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Predicate单词本意是断言，这里Predicate就是断言条件的真假。主要是test()函数，返回传入函数的真假。
上代码：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;java&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;util&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Predicate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PredicateTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;Predicate&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; predicate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Predicate&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token annotation punctuation&quot;&gt;@Override&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;equals&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;hello&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;predicate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;hello&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;predicate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;world&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;输出：&lt;br&gt;
true&lt;br&gt;
false&lt;/p&gt;</content:encoded></item><item><title><![CDATA[java8 Stream]]></title><description><![CDATA[stream是java8新引入的包，具体可以参考官方文档
https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#package.description…]]></description><link>http://www.sunmou.cn/java/java8-stream/</link><guid isPermaLink="false">http://www.sunmou.cn/java/java8-stream/</guid><pubDate>Sun, 15 Mar 2020 10:38:38 GMT</pubDate><content:encoded>&lt;p&gt;stream是java8新引入的包，具体可以参考官方文档
&lt;a href=&quot;https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#package.description&quot;&gt;https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#package.description&lt;/a&gt;&lt;br&gt;
包中主要是几种Steam和相关的Builder，&lt;a href=&quot;https://docs.oracle.com/javase/8/docs/api/java/util/stream/DoubleStream.html&quot;&gt;DoubleStream&lt;/a&gt;，&lt;a href=&quot;https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html&quot;&gt;IntStream&lt;/a&gt;，&lt;a href=&quot;https://docs.oracle.com/javase/8/docs/api/java/util/stream/LongStream.html&quot;&gt;LongStream&lt;/a&gt;，&lt;a href=&quot;https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html&quot;&gt;Stream&lt;T&gt;&lt;/a&gt;
这几个Interface的方法基本相同。&lt;/p&gt;
&lt;p&gt;我的理解，Stream就是一个流水线，一个操作可以分成一系列的步骤，有中间操作，有结束操作。一旦调用了结束操作。这个结果就计算出来了。&lt;br&gt;
调用的方法类似RxJava的一系列函数式的调用，也类似javascript的Promise的调用。主要是作用就是写代码写的更少，更清晰。  &lt;/p&gt;
&lt;p&gt;总体来说，stream有3个特点：&lt;br&gt;
1. stream不存储数据&lt;br&gt;
2. stream不改变源数据&lt;br&gt;
3. stream的延迟执行特性&lt;br&gt;
主要操作方法分类：&lt;/p&gt;
&lt;table&gt;
    &lt;tr&gt;
        &lt;td colspan=3&gt;Steam操作方法&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td rowspan=2&gt;中间操作(Intermediate operations)&lt;/td&gt;
        &lt;td&gt;无状态(Stateless)&lt;/td&gt;
        &lt;td&gt;unordered() filter() map() mapToInt() mapToLong() mapToDouble() flatMap() flatMapToInt() flatMapToLong() flatMapToDouble() peek()&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;有状态(Stateful)&lt;/td&gt;
        &lt;td&gt;distinct() sorted() sorted() limit() skip()&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td rowspan=2&gt;结束操作(Terminal operations)&lt;/td&gt;
        &lt;td&gt;非短路操作&lt;/td&gt;
        &lt;td&gt;forEach() forEachOrdered() toArray() reduce() collect() max() min() count()&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;短路操作(short-circuiting)&lt;/td&gt;
        &lt;td&gt;anyMatch() allMatch() noneMatch() findFirst() findAny()&lt;/td&gt;
    &lt;/tr&gt;
&lt;/table&gt;
&lt;p&gt;直接上代码吧：  &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;java&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;util&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ArrayList&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;java&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;util&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;java&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;util&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;stream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Collectors&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;StreamTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; users &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ArrayList&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        users&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;sun&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;wukong&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        users&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;zhu&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;bajie&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        users&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;sha&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;heshang&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;//测试filter和forEach，打印&quot;wukong&quot;&lt;/span&gt;
        users&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getFirstName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;equals&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;sun&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getLastName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;//测试map和collect, 得到一个新的只包含性的List &lt;/span&gt;
        &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; firstNames &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; users&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stream&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getFirstName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;collect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Collectors&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toList&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        firstNames&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;上面的代码选了中间操作和结束操作的几个例子，其它的函数用法类似，就不一一举例了。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[java8 forEach]]></title><description><![CDATA[java8 增加lambda之后，forEach与lambda组合，能让我们写更少的代码。   ArrayList:   Map:   以上代码直接建立ForEachTest.java，拷贝运行。]]></description><link>http://www.sunmou.cn/java/java8-foreach/</link><guid isPermaLink="false">http://www.sunmou.cn/java/java8-foreach/</guid><pubDate>Sat, 14 Mar 2020 14:10:03 GMT</pubDate><content:encoded>&lt;p&gt;java8 增加lambda之后，forEach与lambda组合，能让我们写更少的代码。  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ArrayList:  &lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;java&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;util&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;ArrayList&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;java&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;util&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ForEachTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; items &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ArrayList&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    items&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;hello&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    items&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;world&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    items&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;item&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;
&lt;p&gt;Map:  &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;java&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;util&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;HashMap&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token namespace&quot;&gt;java&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;util&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ForEachTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;args&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token class-name&quot;&gt;Map&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; items &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;HashMap&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    items&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;sun&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;wukong&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    items&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;zhu&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;bajie&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    items&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;out&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;last name:&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; key &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;, first name:&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;  
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;以上代码直接建立ForEachTest.java，拷贝运行。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[javascript 常用类型转换]]></title><description><![CDATA[在写代码过程中，少不了各种类型的转换，C语言最常用的就是sprintf。 下面介绍几种常用的javascript类型间的转换。   String转int
 或者  Array和ArrayBuffer互转
ArrayBuffer to Array   Array to…]]></description><link>http://www.sunmou.cn/javascript/javascript-convert/</link><guid isPermaLink="false">http://www.sunmou.cn/javascript/javascript-convert/</guid><pubDate>Thu, 12 Mar 2020 21:40:03 GMT</pubDate><content:encoded>&lt;p&gt;在写代码过程中，少不了各种类型的转换，C语言最常用的就是sprintf。&lt;br&gt;
下面介绍几种常用的javascript类型间的转换。  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;String转int
&lt;code class=&quot;language-text&quot;&gt;var intData = parseInt(stringData)&lt;/code&gt; 或者 &lt;code class=&quot;language-text&quot;&gt;var intData = Number(stringData)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Array和ArrayBuffer互转
ArrayBuffer to Array&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;let arrayBuffer = new ArrayBuffer(10);&lt;/code&gt;&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;let array = Array.prototype.slice.call(new Uint8Array(arrayBuffer ));&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Array to ArrayBuffer
&lt;code class=&quot;language-text&quot;&gt;let array = [0x01, 0x02, 0x03, 0x04, 0x05, 0x06, 0x07];&lt;/code&gt;&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;let arrayBuffer = new Uint8Array(array).buffer;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;持续更新&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Android ViewModel 例子]]></title><description><![CDATA[ViewModel是Android Jetpack的重要组成部分，加上LiveData还可以自己更新数据，业务数据相关的逻辑应该都放到这里。   直接上代码，例子实现数据初始化显示，点击变更按钮后，数据自己更新。 Layout: 两个TextView，一个Button User…]]></description><link>http://www.sunmou.cn/android/viewmodel/</link><guid isPermaLink="false">http://www.sunmou.cn/android/viewmodel/</guid><pubDate>Wed, 11 Mar 2020 15:37:03 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://developer.android.google.cn/topic/libraries/architecture/viewmodel&quot;&gt;ViewModel&lt;/a&gt;是Android Jetpack的重要组成部分，加上LiveData还可以自己更新数据，业务数据相关的逻辑应该都放到这里。  &lt;/p&gt;
&lt;p&gt;直接上代码，例子实现数据初始化显示，点击变更按钮后，数据自己更新。&lt;br&gt;
Layout: 两个TextView，一个Button&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;
&amp;lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:app=&amp;quot;http://schemas.android.com/apk/res-auto&amp;quot;
    xmlns:tools=&amp;quot;http://schemas.android.com/tools&amp;quot;
    xmlns:android=&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;
    android:layout_width=&amp;quot;match_parent&amp;quot;
    android:layout_height=&amp;quot;match_parent&amp;quot;&amp;gt;

    &amp;lt;TextView
        android:id=&amp;quot;@+id/textFirst&amp;quot;
        android:layout_width=&amp;quot;wrap_content&amp;quot;
        android:layout_height=&amp;quot;19dp&amp;quot;
        android:text=&amp;quot;&amp;quot;
        app:layout_constraintBottom_toBottomOf=&amp;quot;parent&amp;quot;
        app:layout_constraintLeft_toLeftOf=&amp;quot;parent&amp;quot;
        app:layout_constraintRight_toRightOf=&amp;quot;parent&amp;quot;
        app:layout_constraintTop_toTopOf=&amp;quot;parent&amp;quot; /&amp;gt;

    &amp;lt;TextView
        android:id=&amp;quot;@+id/textLast&amp;quot;
        android:layout_width=&amp;quot;wrap_content&amp;quot;
        android:layout_height=&amp;quot;19dp&amp;quot;
        android:text=&amp;quot;&amp;quot;
        app:layout_constraintBottom_toBottomOf=&amp;quot;parent&amp;quot;
        app:layout_constraintLeft_toLeftOf=&amp;quot;parent&amp;quot;
        app:layout_constraintRight_toRightOf=&amp;quot;parent&amp;quot;
        app:layout_constraintTop_toTopOf=&amp;quot;parent&amp;quot;
        app:layout_constraintVertical_bias=&amp;quot;0.26&amp;quot; /&amp;gt;

    &amp;lt;Button
        android:id=&amp;quot;@+id/button&amp;quot;
        android:layout_width=&amp;quot;0dp&amp;quot;
        android:layout_height=&amp;quot;wrap_content&amp;quot;
        android:text=&amp;quot;@string/button&amp;quot;
        app:layout_constraintBottom_toBottomOf=&amp;quot;parent&amp;quot;
        app:layout_constraintLeft_toLeftOf=&amp;quot;parent&amp;quot;
        app:layout_constraintRight_toRightOf=&amp;quot;parent&amp;quot;
        app:layout_constraintTop_toBottomOf=&amp;quot;@+id/textFirst&amp;quot;
        android:onClick=&amp;quot;changeData&amp;quot;
        /&amp;gt;

&amp;lt;/androidx.constraintlayout.widget.ConstraintLayout&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;User数据：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;public class User {
    public String getFirstName() {
        return firstName;
    }

    public void setFirstName(String firstName) {
        this.firstName = firstName;
    }

    public String getLastName() {
        return lastName;
    }

    public void setLastName(String lastName) {
        this.lastName = lastName;
    }

    private String firstName;
    private String lastName;
    public User(String firstName, String lastName) {
        this.firstName = firstName;
        this.lastName = lastName;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ViewModel: 存储数据User，提供修改数据接口  &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;public class MyViewModel extends ViewModel {
    private MutableLiveData&amp;lt;List&amp;lt;User&amp;gt;&amp;gt; users;
    User hello = new User(&amp;quot;hello&amp;quot;, &amp;quot;world&amp;quot;);
    User nihao = new User(&amp;quot;ni&amp;quot;, &amp;quot;hao&amp;quot;);
    List&amp;lt;User&amp;gt; userList = new ArrayList&amp;lt;User&amp;gt;();

    public LiveData&amp;lt;List&amp;lt;User&amp;gt;&amp;gt; getUsers() {
        if (users == null) {
            users = new MutableLiveData&amp;lt;List&amp;lt;User&amp;gt;&amp;gt;();
            loadUsers();
        }
        return users;
    }

    private void loadUsers() {
        userList.add(hello);
        users.setValue(userList);
    }

    public void changeData() {
        userList.set(0, nihao);
        users.setValue(userList);  //会通知观察者数据的变化
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Activity：用了view binding，注册数据事件，有数据更新时，自己更新UI  &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;public class MainActivity extends AppCompatActivity {
    private ActivityMainBinding mainBinding;
    private MyViewModel viewModel;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        mainBinding = ActivityMainBinding.inflate(LayoutInflater.from(this));
        setContentView(mainBinding.getRoot());
        viewModel = new ViewModelProvider(this).get(MyViewModel.class);
        viewModel.getUsers().observe(this, users -&amp;gt; {
            mainBinding.textFirst.setText(users.get(0).getFirstName());
            mainBinding.textLast.setText(users.get(0).getLastName());
        });
    }

    public void changeData(View view) {
        viewModel.changeData();
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[弃用 ViewModelProviders.of()，lifecycle2.2变化]]></title><description><![CDATA[今天用Android官方文档试用ViewModel时发现之前的lifecycle-extensions中的 ViewModelProviders.of()不能用了。 看了 Lifecycle 的 Release Note才发现，lifecycle-extensions…]]></description><link>http://www.sunmou.cn/android/lifecycle-22/</link><guid isPermaLink="false">http://www.sunmou.cn/android/lifecycle-22/</guid><pubDate>Wed, 11 Mar 2020 11:37:03 GMT</pubDate><content:encoded>&lt;p&gt;今天用Android官方文档试用ViewModel时发现之前的lifecycle-extensions中的 ViewModelProviders.of()不能用了。&lt;br&gt;
看了 Lifecycle 的 Release Note才发现，lifecycle-extensions已经被弃用了。以下引用原文：  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Lifecycle 协程集成：新的 lifecycle-runtime-ktx 工件实现了 Lifecycle 协程与 Kotlin 协程之间的集成。此外，我们还扩展了 lifecycle-livedata-ktx 以便利用协程的优势。如需了解详情，请参阅将 Kotlin 协程与架构组件一起使用。  &lt;/li&gt;
&lt;li&gt;弃用 ViewModelProviders.of()：已弃用 ViewModelProviders.of() 。您可以将 Fragment 或 FragmentActivity 传递给新的 ViewModelProvider(ViewModelStoreOwner) 构造函数，以便在使用 Fragment 1.2.0 时实现相同的功能。  &lt;/li&gt;
&lt;li&gt;弃用 lifecycle-extensions 工件：在上面弃用 ViewModelProviders.of() 后，此版本标志着弃用 lifecycle-extensions 中的最后一个 API，因此现在该工件已完全被弃用。我们强烈建议您根据所需的具体 Lifecycle 工件（例如，如果您使用 LifecycleService，则为 lifecycle-service；如果您使用 ProcessLifecycleOwner，则为 lifecycle-process）而不是 lifecycle-extensions 来做判断，因为 lifecycle-extensions 将不会有 2.3.0 这个未来版本。  &lt;/li&gt;
&lt;li&gt;Gradle 增量注释处理器：Lifecycle 的注释处理器默认为增量处理器。如果您的应用是用 Java 8 编程语言编写的，则可以使用 DefautLifecycleObserver；如果是用 Java 7 编程语言编写的，则可以使用 LifecycleEventObserver。  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;附上具体依赖项：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;    dependencies {
        def lifecycle_version = &amp;quot;2.2.0&amp;quot;

        // ViewModel
        implementation &amp;quot;androidx.lifecycle:lifecycle-viewmodel:$lifecycle_version&amp;quot;
        // LiveData
        implementation &amp;quot;androidx.lifecycle:lifecycle-livedata:$lifecycle_version&amp;quot;
        // Lifecycles only (without ViewModel or LiveData)
        implementation &amp;quot;androidx.lifecycle:lifecycle-runtime:$lifecycle_version&amp;quot;

        // Saved state module for ViewModel
        implementation &amp;quot;androidx.lifecycle:lifecycle-viewmodel-savedstate:$lifecycle_version&amp;quot;

        // Annotation processor
        annotationProcessor &amp;quot;androidx.lifecycle:lifecycle-compiler:$lifecycle_version&amp;quot;
        // alternately - if using Java8, use the following instead of lifecycle-compiler
        implementation &amp;quot;androidx.lifecycle:lifecycle-common-java8:$lifecycle_version&amp;quot;

        // optional - ReactiveStreams support for LiveData
        implementation &amp;quot;androidx.lifecycle:lifecycle-reactivestreams:$lifecycle_version&amp;quot;

        // optional - Test helpers for LiveData
        testImplementation &amp;quot;androidx.arch.core:core-testing:$lifecycle_version&amp;quot;
    }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;THE END&lt;/p&gt;</content:encoded></item><item><title><![CDATA[android data binding]]></title><description><![CDATA[之前讲了view binding，这回说一下data binding. 测试环境 android-studio 3.6.1   找到app下的build.gradle文件，添加data-binding支持   建立data类: xml必须用layout…]]></description><link>http://www.sunmou.cn/android/data-binding/</link><guid isPermaLink="false">http://www.sunmou.cn/android/data-binding/</guid><pubDate>Tue, 10 Mar 2020 11:37:03 GMT</pubDate><content:encoded>&lt;p&gt;之前讲了view binding，这回说一下data binding.&lt;/p&gt;
&lt;p&gt;测试环境 android-studio 3.6.1  &lt;/p&gt;
&lt;p&gt;找到app下的build.gradle文件，添加data-binding支持  &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;android {
    compileSdkVersion 29
    buildToolsVersion &amp;quot;29.0.3&amp;quot;

    defaultConfig {
        applicationId &amp;quot;com.example.componenttest&amp;quot;
        minSdkVersion 16
        targetSdkVersion 29
        versionCode 1
        versionName &amp;quot;1.0&amp;quot;

        dataBinding {
            enabled = true
        }

        testInstrumentationRunner &amp;quot;androidx.test.runner.AndroidJUnitRunner&amp;quot;
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile(&amp;#39;proguard-android-optimize.txt&amp;#39;), &amp;#39;proguard-rules.pro&amp;#39;
        }
    }

}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;建立data类:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;public class User {
    public final String firstName;
    public final String lastName;
    public User(String firstName, String lastName) {
        this.firstName = firstName;
        this.lastName = lastName;
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;xml必须用layout开头的，建立两个TextVIew用来显示firstName和lastName:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;
&amp;lt;layout xmlns:android=&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;&amp;gt;
    &amp;lt;data&amp;gt;
        &amp;lt;variable name=&amp;quot;user&amp;quot; type=&amp;quot;com.example.componenttest.User&amp;quot;/&amp;gt;
        &amp;lt;variable
            name=&amp;quot;main&amp;quot;
            type=&amp;quot;com.example.componenttest.MainActivity&amp;quot; /&amp;gt;
        &amp;lt;variable
            name=&amp;quot;handler&amp;quot;
            type=&amp;quot;com.example.componenttest.MyHandler&amp;quot; /&amp;gt;
    &amp;lt;/data&amp;gt;
    &amp;lt;androidx.constraintlayout.widget.ConstraintLayout
        xmlns:app=&amp;quot;http://schemas.android.com/apk/res-auto&amp;quot;
        xmlns:tools=&amp;quot;http://schemas.android.com/tools&amp;quot;
        android:layout_width=&amp;quot;match_parent&amp;quot;
        android:layout_height=&amp;quot;match_parent&amp;quot;
        &amp;gt;

        &amp;lt;TextView
            android:id=&amp;quot;@+id/text&amp;quot;
            android:layout_width=&amp;quot;wrap_content&amp;quot;
            android:layout_height=&amp;quot;19dp&amp;quot;
            android:text=&amp;quot;@{user.firstName}&amp;quot;
            app:layout_constraintBottom_toBottomOf=&amp;quot;parent&amp;quot;
            app:layout_constraintLeft_toLeftOf=&amp;quot;parent&amp;quot;
            app:layout_constraintRight_toRightOf=&amp;quot;parent&amp;quot;
            app:layout_constraintTop_toTopOf=&amp;quot;parent&amp;quot; /&amp;gt;

        &amp;lt;TextView
            android:id=&amp;quot;@+id/bindText&amp;quot;
            android:layout_width=&amp;quot;wrap_content&amp;quot;
            android:layout_height=&amp;quot;19dp&amp;quot;
            android:text=&amp;quot;@{user.lastName}&amp;quot;
            app:layout_constraintBottom_toBottomOf=&amp;quot;parent&amp;quot;
            app:layout_constraintLeft_toLeftOf=&amp;quot;parent&amp;quot;
            app:layout_constraintRight_toRightOf=&amp;quot;parent&amp;quot;
            app:layout_constraintTop_toTopOf=&amp;quot;parent&amp;quot;
            app:layout_constraintVertical_bias=&amp;quot;0.26&amp;quot; /&amp;gt;

        &amp;lt;Button
            android:id=&amp;quot;@+id/button&amp;quot;
            android:layout_width=&amp;quot;0dp&amp;quot;
            android:layout_height=&amp;quot;wrap_content&amp;quot;
            android:text=&amp;quot;@string/button&amp;quot;
            app:layout_constraintBottom_toBottomOf=&amp;quot;parent&amp;quot;
            app:layout_constraintLeft_toLeftOf=&amp;quot;parent&amp;quot;
            app:layout_constraintRight_toRightOf=&amp;quot;parent&amp;quot;
            app:layout_constraintTop_toBottomOf=&amp;quot;@+id/text&amp;quot;
            android:onClick=&amp;quot;changeData&amp;quot;
            /&amp;gt;

    &amp;lt;/androidx.constraintlayout.widget.ConstraintLayout&amp;gt;
&amp;lt;/layout&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;主程序：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;import androidx.appcompat.app.AppCompatActivity;
import androidx.databinding.DataBindingUtil;

import android.os.Bundle;

import com.example.componenttest.databinding.ActivityMainBinding;

public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        ActivityMainBinding binding = DataBindingUtil.setContentView(this, R.layout.activity_main);
        User user = new User(&amp;quot;Qingpeng&amp;quot;, &amp;quot;Sun&amp;quot;);
        binding.setUser(user);
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;效果：
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/22fff32069010673e556e0e95a61cfba/8b70b/data-binding.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.87045813586098%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAA4ElEQVQoz53Pu07DMBSA4bPyBog3Y4GRGd6KuUgMdGIHIRjoQMWSS3OBRsSNHefyU1cEqSgX1EifYlm/j3Tk8njN1cmai6NPziTlXD4OlHIq78jLXPF8p3i6VTzOtm4O8zDLub8OELCMq35MNZavIkWMLhlmKTaGjdK781inC0O0ShBrLX3Ksvz9G2P27oa6JNkOdIchLnTDtNZ7D/u6fw9USpFlGWNdt0Ucx0hd14xp2xb3TXVVVZHnOeL5Pr08Dz8IeFsueV0sGOz+ELf3mFUUEYYhU11ncuWmaXamus43cKUs6QHmpaoAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;result&quot;
        title=&quot;result&quot;
        src=&quot;/static/22fff32069010673e556e0e95a61cfba/fcda8/data-binding.png&quot;
        srcset=&quot;/static/22fff32069010673e556e0e95a61cfba/12f09/data-binding.png 148w,
/static/22fff32069010673e556e0e95a61cfba/e4a3f/data-binding.png 295w,
/static/22fff32069010673e556e0e95a61cfba/fcda8/data-binding.png 590w,
/static/22fff32069010673e556e0e95a61cfba/efc66/data-binding.png 885w,
/static/22fff32069010673e556e0e95a61cfba/c83ae/data-binding.png 1180w,
/static/22fff32069010673e556e0e95a61cfba/8b70b/data-binding.png 1266w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;使用可观察数据对象
改变User类&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;import androidx.databinding.ObservableField;
public class User {
    public ObservableField&amp;lt;String&amp;gt; firstName = new ObservableField&amp;lt;&amp;gt;();
    public ObservableField&amp;lt;String&amp;gt; lastName = new ObservableField&amp;lt;&amp;gt;();
    public User(String firstName, String lastName) {
        this.firstName.set(firstName);
        this.lastName.set(lastName);
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;增加Button点击函数&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;public class MainActivity extends AppCompatActivity {

    private User user = new User(&amp;quot;Qingpeng&amp;quot;, &amp;quot;Sun&amp;quot;);

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        ActivityMainBinding binding = DataBindingUtil.setContentView(this, R.layout.activity_main);
        binding.setUser(user);
    }

    public void changeData(View view) {
        user.firstName.set(&amp;quot;Laoshi&amp;quot;);
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[react hook特性]]></title><description><![CDATA[最简单概括hook的一句话就是，它可以让你在不编写 class 的情况下使用 state 以及其他的 React 特性。 React官网给出的3个使用的理由： 完全可选的。 你无需重写任何已有代码就可以在一些组件中尝试 Hook。但是如果你不想，你不必现在就去学习或使用 Hook…]]></description><link>http://www.sunmou.cn/react/hook/</link><guid isPermaLink="false">http://www.sunmou.cn/react/hook/</guid><pubDate>Tue, 10 Mar 2020 08:18:03 GMT</pubDate><content:encoded>&lt;p&gt;最简单概括hook的一句话就是，它可以让你在不编写 class 的情况下使用 state 以及其他的 React 特性。&lt;/p&gt;
&lt;p&gt;React官网给出的3个使用的理由：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;完全可选的。 你无需重写任何已有代码就可以在一些组件中尝试 Hook。但是如果你不想，你不必现在就去学习或使用 Hook。&lt;/li&gt;
&lt;li&gt;100% 向后兼容的。 Hook 不包含任何破坏性改动。&lt;/li&gt;
&lt;li&gt;现在可用。 Hook 已发布于 v16.8.0。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;最常用的两个Hook就是useState和useEffect，我们通过这两个例子还了解Hook吧。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;useState
代替class中的state，参数只有一个就是state的初始值，返回state变量和setState函数。
我们来对比一个两个版本的区别：&lt;br&gt;
class版本：  &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;class Example extends React.Component {
constructor(props) {
    super(props);
    this.state = {
    count: 0
    };
}

render() {
    return (
    &amp;lt;div&amp;gt;
        &amp;lt;p&amp;gt;You clicked {this.state.count} times&amp;lt;/p&amp;gt;
        &amp;lt;button onClick={() =&amp;gt; this.setState({ count: this.state.count + 1 })}&amp;gt;
        Click me
        &amp;lt;/button&amp;gt;
    &amp;lt;/div&amp;gt;
    );
}
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;hook版本：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;import React, { useState } from &amp;#39;react&amp;#39;;

function Example() {
// 声明一个叫 &amp;quot;count&amp;quot; 的 state 变量
const [count, setCount] = useState(0);

return (
    &amp;lt;div&amp;gt;
    &amp;lt;p&amp;gt;You clicked {count} times&amp;lt;/p&amp;gt;
    &amp;lt;button onClick={() =&amp;gt; setCount(count + 1)}&amp;gt;
        Click me
    &amp;lt;/button&amp;gt;
    &amp;lt;/div&amp;gt;
);
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;是不是感觉hook的版本更轻爽一些。  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;useEffect
useEffect Hook 可以看做 componentDidMount，componentDidUpdate 和 componentWillUnmount 这三个函数的组合。&lt;br&gt;
看一下对比的例子：&lt;br&gt;
class版本：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;class Example extends React.Component {
constructor(props) {
    super(props);
    this.state = {
    count: 0
    };
}

componentDidMount() {
    document.title = `You clicked ${this.state.count} times`;
}

componentDidUpdate() {
    document.title = `You clicked ${this.state.count} times`;
}

render() {
    return (
    &amp;lt;div&amp;gt;
        &amp;lt;p&amp;gt;You clicked {this.state.count} times&amp;lt;/p&amp;gt;
        &amp;lt;button onClick={() =&amp;gt; this.setState({ count: this.state.count + 1 })}&amp;gt;
        Click me
        &amp;lt;/button&amp;gt;
    &amp;lt;/div&amp;gt;
    );
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;hook版本：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;import React, { useState, useEffect } from &amp;#39;react&amp;#39;;

function Example() {
const [count, setCount] = useState(0);

// Similar to componentDidMount and componentDidUpdate:
useEffect(() =&amp;gt; {
    // Update the document title using the browser API
    document.title = `You clicked ${count} times`;
});

return (
    &amp;lt;div&amp;gt;
    &amp;lt;p&amp;gt;You clicked {count} times&amp;lt;/p&amp;gt;
    &amp;lt;button onClick={() =&amp;gt; setCount(count + 1)}&amp;gt;
        Click me
    &amp;lt;/button&amp;gt;
    &amp;lt;/div&amp;gt;
);
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;可以看到hook版本的一个函数包括了componentDidMount, componentDidUpdate两个函数的作用。如果Effect返回函数，则这个函数就是componentWillUnmount函数的作用，&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt; useEffect(() =&amp;gt; {
    return function umount() {
    console.log(&amp;#39;this is the umount function&amp;#39;);
    };
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;THE END&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[android view binding]]></title><description><![CDATA[测试环境 android-studio 3.6.1   找到app下的build.gradle文件，添加view-binding支持   我们在新建的工程里的Layout xml中，加入一个Button，再给Text加一个id，如果没有ID…]]></description><link>http://www.sunmou.cn/android/view-binding/</link><guid isPermaLink="false">http://www.sunmou.cn/android/view-binding/</guid><pubDate>Mon, 09 Mar 2020 11:37:03 GMT</pubDate><content:encoded>&lt;p&gt;测试环境 android-studio 3.6.1  &lt;/p&gt;
&lt;p&gt;找到app下的build.gradle文件，添加view-binding支持  &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;android {
    compileSdkVersion 29
    buildToolsVersion &amp;quot;29.0.3&amp;quot;

    defaultConfig {
        applicationId &amp;quot;com.example.componenttest&amp;quot;
        minSdkVersion 16
        targetSdkVersion 29
        versionCode 1
        versionName &amp;quot;1.0&amp;quot;

        viewBinding {
            enabled = true
        }

        testInstrumentationRunner &amp;quot;androidx.test.runner.AndroidJUnitRunner&amp;quot;
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile(&amp;#39;proguard-android-optimize.txt&amp;#39;), &amp;#39;proguard-rules.pro&amp;#39;
        }
    }

}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;我们在新建的工程里的Layout xml中，加入一个Button，再给Text加一个id，如果没有ID，绑定类将不会存在他的引用。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a11d028e21ddabdfeeb9e822e4c3d696/33a7b/add_control.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 49.508489722966935%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACI0lEQVQoz12SzUtUURjG538QIloZmaMz9/Pc77lzZ+69zm2c0WiSkRnTLFAy+kYRCoKwoMXQSoKQDAkjWvWXtKhV5CJ00c6NQTaj4ON5z6BmBx5ezrn3/fGc5z2psDyCoaSMYpKgNFxBuTKCZLiKcnUUMT/Ph/GJipGQzxVyRXEJfiGEk8uLSj0pLyjC5QdOzofj+UgPZNCfHsBFLllWYOgMuqqBaTqYacGwHDAukysXFGB7OXj5AKbjCkYqIynIyirSgxkEUQnLK2tovX6HN6vruHZnHplqHW59GlptErKdQ1aSISma6Am5w0uVqrihcF4oIiWrOlTd4I4GMT4xBVptdFfrw2ecadyF+eAZLsw+hhQMQeZAWWUCSs4KUSwqs2wYttMFKhoTwLHxBjrtNrZ3/gjg0sp79NRmoMwsoHfqIbJ+JIAS7yGgziOwPI+7C2G5ntifAtbqTezs7uPr1m/s7gEvVj/i/OR9VJ6+gjz3BAp3KAmHXaBpu8IdifKk/X8Om+h09vDz1zZwcIDnb9dxtj4H79ES+m7OQ/rHIfVQVCozBJAq6RSw3pgQV/27383w5don9IzdQnZ2Eb03FiDl42Og5XgCRIOgSZNMypCsE7CfP5fRK1fxY2MDX759x9bmJhZbyzh3eRrq9Xvoa96G5BU5UOHX7QIpOwIGYYS4lJxM+UgE1gwbKpeozILCzONK34/+ZaYN18+LYYj3yd2Ry0MKQYCjeav+MgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Layout信息&quot;
        title=&quot;Layout信息&quot;
        src=&quot;/static/a11d028e21ddabdfeeb9e822e4c3d696/fcda8/add_control.png&quot;
        srcset=&quot;/static/a11d028e21ddabdfeeb9e822e4c3d696/12f09/add_control.png 148w,
/static/a11d028e21ddabdfeeb9e822e4c3d696/e4a3f/add_control.png 295w,
/static/a11d028e21ddabdfeeb9e822e4c3d696/fcda8/add_control.png 590w,
/static/a11d028e21ddabdfeeb9e822e4c3d696/efc66/add_control.png 885w,
/static/a11d028e21ddabdfeeb9e822e4c3d696/33a7b/add_control.png 1119w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
编译一下，我们就可以看到，IDE为我们生成的类。以下是生成的规则：
为某个模块启用视图绑定功能后，系统会为该模块中包含的每个 XML 布局文件各生成一个绑定类。每个绑定类均包含对根视图以及具有 ID 的所有视图的引用。系统会通过以下方式生成绑定类的名称：将 XML 文件的名称转换为驼峰式大小写，并在末尾添加“Binding”一词。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8d20086740c2834a4534f6e2618326b2/eb1d2/generated.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 34.2786683107275%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABEElEQVQoz4XQa2+CMBQGYH6O0hulReXiQORiBWVOM7NP+/+/4l3pMNNosg9PTpu0b8+p1zQ1tlXpNE2FrKig4hw63VqlI5c5SJhgHqwm8WT1xBv6BvtdCdNu0Jkt1usUSjBITiCEQMAZOPXBKAHxZ5P5ZPbE+772+DwbnI81LkOFPM+gpLQCBDIEYwyEEMf3fYv87V/wvt4rXE81hq6woSUKGxgGApHWCJUG5xzMGiu3HY/r+wdu6xsvLd5gOoPdoUPZ1ojixAUulivbobw7TEEofbj8MvByMtibjdN3JdIsgbKdCRGAUub+jtmg33H9h5CXgR/HFvu2cA421AXKcWQFHS2gla06ggqlG/m/Dn8AYcjgkbG1EXgAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;生成类&quot;
        title=&quot;生成类&quot;
        src=&quot;/static/8d20086740c2834a4534f6e2618326b2/fcda8/generated.png&quot;
        srcset=&quot;/static/8d20086740c2834a4534f6e2618326b2/12f09/generated.png 148w,
/static/8d20086740c2834a4534f6e2618326b2/e4a3f/generated.png 295w,
/static/8d20086740c2834a4534f6e2618326b2/fcda8/generated.png 590w,
/static/8d20086740c2834a4534f6e2618326b2/efc66/generated.png 885w,
/static/8d20086740c2834a4534f6e2618326b2/c83ae/generated.png 1180w,
/static/8d20086740c2834a4534f6e2618326b2/eb1d2/generated.png 1622w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
接下来，我们就可以使用了。代码如下：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;public class MainActivity extends AppCompatActivity {
    private ActivityMainBinding mainBinding;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        mainBinding = ActivityMainBinding.inflate(LayoutInflater.from(this));
        setContentView(mainBinding.getRoot());
        mainBinding.button.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                mainBinding.text.setText(&amp;quot;hello view binding&amp;quot;);
            }
        });
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;THE END&lt;/p&gt;</content:encoded></item><item><title><![CDATA[strapi提供api服务]]></title><description><![CDATA[之前讲了strapi环境的简单搭建，并且建立了评论的ContentType。
这回讲一下，strapi如何向外提供api。 api文档路径：https://strapi.io/documentation/3.0.0-beta.x/content-api/api-endpoints…]]></description><link>http://www.sunmou.cn/myblog/strapi-api/</link><guid isPermaLink="false">http://www.sunmou.cn/myblog/strapi-api/</guid><pubDate>Sun, 08 Mar 2020 16:37:03 GMT</pubDate><content:encoded>&lt;p&gt;之前讲了strapi环境的简单搭建，并且建立了评论的ContentType。
这回讲一下，strapi如何向外提供api。&lt;/p&gt;
&lt;p&gt;api文档路径：&lt;a href=&quot;https://strapi.io/documentation/3.0.0-beta.x/content-api/api-endpoints.html#endpoints&quot;&gt;https://strapi.io/documentation/3.0.0-beta.x/content-api/api-endpoints.html#endpoints&lt;/a&gt;&lt;br&gt;
可以看到取得数据接口：GET	/{content-type}&lt;/p&gt;
&lt;p&gt;我们访问一下，发现返回没有权限，返回403。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 505px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b7d80f646c33f9ecd8c60b628a3939f5/c0cb9/forbidden.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 17.22772277227723%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAAsSAAALEgHS3X78AAAAjUlEQVQI1zVPiw6EIAzj/z/z1BPkNRTwYg57bB5Lmm5rk25qfS8wesUyT5inF1IiEEVYa+G9RyRCDAEUI2JHaw1c930LRnHf2heKzd45OGcFPIeOlBL2fRdm3RjTg0h2g0fP/nwcuK4L6nOekhz+FzzGQ7iUgrPrIXhsm0WtVQK01qLnnOUL/qaUKpf+AMhk5X5GFZiTAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;没有限制&quot;
        title=&quot;没有限制&quot;
        src=&quot;/static/b7d80f646c33f9ecd8c60b628a3939f5/c0cb9/forbidden.png&quot;
        srcset=&quot;/static/b7d80f646c33f9ecd8c60b628a3939f5/12f09/forbidden.png 148w,
/static/b7d80f646c33f9ecd8c60b628a3939f5/e4a3f/forbidden.png 295w,
/static/b7d80f646c33f9ecd8c60b628a3939f5/c0cb9/forbidden.png 505w&quot;
        sizes=&quot;(max-width: 505px) 100vw, 505px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
原来是没有设定权限，在左边菜单上选&lt;font color=blue&gt;角色＆权限&lt;/font&gt;，然后找到Public选项，最后选择相应权限。&lt;br&gt;
我们这边选了&lt;code class=&quot;language-text&quot;&gt;find&lt;/code&gt;，&lt;code class=&quot;language-text&quot;&gt;create&lt;/code&gt;，&lt;code class=&quot;language-text&quot;&gt;findone&lt;/code&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/b32fb42b322230a3a927ada3bfe523a7/e619b/public.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 104.95552731893265%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsSAAALEgHS3X78AAAB00lEQVQ4y61Ua2+jMBD0//99uX6J1Id0vV4CJga/jc3e7joQ2qNSSWtpZCPweHY8i3h6fILDrwdwLkDwEbwPjBASpDTuhmjbDppGMqHWFvpeIww+e/4gxrQLopQJlFJI2kIpBaZpYtA658LzHogYIxyPR3h+fmGiOuZ5/xDjmLk8pplgUXgPCkJklEmXkMbxSjpdieE+QjKePMw5LyDVhLWnX4WgTVSy1hqMtWCtw7VhxJRWqr+gsFDJeJM/NaqHV0JiX3D1Y2+5xMWEIYR3J33npgWl+3B4gGEw7F/AXN47prlkWoRQ+5gOmFO/VvsZwcf3HGylelZHEbLW42077u31h1vlbb3j2EjZoTq/qYIzidncIqW9CaP13sOQ4ffLCWTXgXUOjCEvLah+YBt66fDH0ay6e1p6PeNhp9MJD711GV+KMbVETz4iiMhi2KufNQ63lrxFan63jpjQNsJbo0BeLHSIVmpGP3hQg8PZoVoLF2UY2mDfp4KHZZypRUtFrr87oQ0Snm+EsjO4xs29Y9JBV8zENBuLaUAyQhrz/4R/zpdKhGjksICVIWZSbajnPXocKxkTbih8/XuBc0MkGjpFSit522ks06KvmRFiXpR9RvgP6hVyUkYfk1sAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;权限&quot;
        title=&quot;权限&quot;
        src=&quot;/static/b32fb42b322230a3a927ada3bfe523a7/fcda8/public.png&quot;
        srcset=&quot;/static/b32fb42b322230a3a927ada3bfe523a7/12f09/public.png 148w,
/static/b32fb42b322230a3a927ada3bfe523a7/e4a3f/public.png 295w,
/static/b32fb42b322230a3a927ada3bfe523a7/fcda8/public.png 590w,
/static/b32fb42b322230a3a927ada3bfe523a7/e619b/public.png 787w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;保存后，再次查看，可以访问了。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/cf9d8a516d224453ffbe108253f4e16b/f69df/find.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 8.286038592508513%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsSAAALEgHS3X78AAAAYklEQVQI112J2wrDIBAF8/9/KXXVLTQPgvHeaQylhRwYZuBsxhgW1j7w3uGcO+1PCyKW8G0nQoyRlBLHkdj3FyF4nqpoCKgulK21RimFnDO11qvvrG/Re2fOyRjj8m/vf34ApuGZFn2Oc14AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;正常访问&quot;
        title=&quot;正常访问&quot;
        src=&quot;/static/cf9d8a516d224453ffbe108253f4e16b/fcda8/find.png&quot;
        srcset=&quot;/static/cf9d8a516d224453ffbe108253f4e16b/12f09/find.png 148w,
/static/cf9d8a516d224453ffbe108253f4e16b/e4a3f/find.png 295w,
/static/cf9d8a516d224453ffbe108253f4e16b/fcda8/find.png 590w,
/static/cf9d8a516d224453ffbe108253f4e16b/efc66/find.png 885w,
/static/cf9d8a516d224453ffbe108253f4e16b/c83ae/find.png 1180w,
/static/cf9d8a516d224453ffbe108253f4e16b/f69df/find.png 1762w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[javascript 浅拷贝与深拷贝]]></title><description><![CDATA[在javascript编程中，我们最常用的就是赋值（=）操作。 在javascript…]]></description><link>http://www.sunmou.cn/javascript/javascript-copy/</link><guid isPermaLink="false">http://www.sunmou.cn/javascript/javascript-copy/</guid><pubDate>Sat, 07 Mar 2020 21:40:03 GMT</pubDate><content:encoded>&lt;p&gt;在javascript编程中，我们最常用的就是赋值（=）操作。&lt;br&gt;
在javascript中，等号操作只是对对象地址的引用。&lt;br&gt;
想真正创建另外的副本，我们就需要进行拷贝操作。&lt;br&gt;
下面在介绍一下两种拷贝方案，深拷贝和浅拷贝。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;浅拷贝&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;Object.assign()&lt;/code&gt; 方法用于将所有可枚举属性的值从一个或多个源对象复制到目标对象。它将返回目标对象。&lt;br&gt;
语法：&lt;code class=&quot;language-text&quot;&gt;Object.assign(target, ...sources)&lt;/code&gt;  返回目标对象。&lt;br&gt;
拷贝的是属性值。假如源对象的属性值是一个对象的引用，那么它也只指向那个引用。  &lt;/p&gt;
&lt;p&gt;展开语法(Spread syntax), 构造字面量对象时,进行克隆或者属性拷贝：&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;let objClone = { ...obj };&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;深拷贝&lt;br&gt;
将对象序列化为字符串，然后再将其反序列化&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;obj1 = { a: 0 , b: { c: 0}};&lt;/code&gt;&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;let obj3 = JSON.parse(JSON.stringify(obj1));&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;NODE.JS 中的深拷贝  &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;const v8 = require(&amp;#39;v8&amp;#39;);
const buf = v8.serialize({ a: 0 , b: { c: 0}});
const cloned = v8.deserialize(buf);```  &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[markdown常用语法小记]]></title><description><![CDATA[Blog内容都是用markdown格式编辑的，把最近用到的markdown语法总结一下。 段落： 在一行的结尾加两个空格，再回车。 代码： 单行代码行用`，就是ESC…]]></description><link>http://www.sunmou.cn/myblog/markdown/</link><guid isPermaLink="false">http://www.sunmou.cn/myblog/markdown/</guid><pubDate>Thu, 05 Mar 2020 21:40:03 GMT</pubDate><content:encoded>&lt;p&gt;Blog内容都是用markdown格式编辑的，把最近用到的markdown语法总结一下。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;段落：&lt;br&gt;
在一行的结尾加两个空格，再回车。&lt;/li&gt;
&lt;li&gt;代码：&lt;br&gt;
单行代码行用`，就是ESC下面那个符号引用，`代码`&lt;br&gt;
多行代码用```包围，```多行代码```  &lt;/li&gt;
&lt;li&gt;链接：
显式链接地址： &amp;#x3C;链接地址&gt;&lt;br&gt;
文字链接： [显示的文字](链接地址)&lt;/li&gt;
&lt;li&gt;图片：
![图片提示](图片地址)  &lt;/li&gt;
&lt;li&gt;emoji
:表情英文:，比如： :grinning:
想要什么表情，可以到这个网站找&lt;a href=&quot;https://www.webfx.com/tools/emoji-cheat-sheet/&quot;&gt;https://www.webfx.com/tools/emoji-cheat-sheet/&lt;/a&gt;   &lt;/li&gt;
&lt;li&gt;font
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;font color=blue&amp;gt;文字&amp;lt;/font&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;以上是这几天用到的，持续更新。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[用strapi搭建一个内容管理系统]]></title><description><![CDATA[Blog搭建完成，可惜缺少评论部分。官网建议的Disqus等工具，不是被墙，就是收费贵。 之前了解了strapi，并且做过一些测试，最后确定react+antd+strapi去实现评论系统。
这里我们先介绍一下strapi。 strapi是一个headless CMS…]]></description><link>http://www.sunmou.cn/myblog/strapi/</link><guid isPermaLink="false">http://www.sunmou.cn/myblog/strapi/</guid><pubDate>Wed, 04 Mar 2020 21:29:03 GMT</pubDate><content:encoded>&lt;p&gt;Blog搭建完成，可惜缺少评论部分。官网建议的Disqus等工具，不是被墙，就是收费贵。&lt;br&gt;
之前了解了strapi，并且做过一些测试，最后确定react+antd+strapi去实现评论系统。
这里我们先介绍一下strapi。&lt;/p&gt;
&lt;p&gt;strapi是一个headless CMS，简单说一个只提供数据的内容管理系统，不关注UI，内容优先。&lt;br&gt;
可以去&lt;a href=&quot;https://headlesscms.org/&quot;&gt;https://headlesscms.org/&lt;/a&gt;这个网站看一个流行的headless cms，strapi排名靠前。&lt;/p&gt;
&lt;p&gt;快速建立一个strapi工程：&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;yarn create strapi-app my-project --quickstart&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;建立之后，他会自动启动默认浏览器，并且打开管理员的首页。&lt;a href=&quot;http://localhost:1337/admin/&quot;&gt;http://localhost:1337/admin/&lt;/a&gt;
输入账号密码后，进入管理页面。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 71.28325508607199%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAAB20lEQVQ4y62TzW7TQBSFvYdWZQlq2iYNFSxA0ApVsO6mT9BXAFJYsGjYg8SSHY/Ajg1PAgKJFZRIJYkTWa4znv/xHO6M28jQSqCqIx955urON/dcj5OdnS/Y2/uK3d1PeP1qgDCc8yR3ouoPVVVTHt57KKUgtQYbjpCstLfQWtvClcV1PN1/GROKvICzvtZfoDDX2sBaCyklJMFoS4Q7iiWttftY7Wxi8VonAo2Z4Wj4DcrNIM0xbRC0UUEIAc45FFUyTlPKs8iyDKPROMY1xSsiJ52b29i4/QgLS108f9HH4Wfg/ZsMH97m+PjuGEVmqQlUma1bMK+UJLlDPtXQ0lGOj/Gk3X2AoIUlqvDZASoFTL57pD89JoNgA+eOYJ2zkqw7qlbT28R2RctBAdjr9ekc4Ec5RDodQmgGZQyM4ihoffRrjJKLaC8AB7MpGC/BSglG8DCS7q2HWGlv4moA7vfJHHCYT1AUlMg4hCJLgoHnKQpas5JTX2sgE3VPjVaUX5yt8HHvIJ7izek1cbUlW4Ge+bq2aecKX10IGefJ9eU7WF69F4FPToDhq4ak/1UTnNxo3T0DVMFmI/FfaoIvBdjUuZYvUuGlWj6Fhd8xWd/YjtfmosBm/1hp8BsIscf8vMJKLQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;管理首页&quot;
        title=&quot;管理首页&quot;
        src=&quot;/static/915acd7313bff8b6efbf6f1276e59cb8/fcda8/strapi-index.png&quot;
        srcset=&quot;/static/915acd7313bff8b6efbf6f1276e59cb8/12f09/strapi-index.png 148w,
/static/915acd7313bff8b6efbf6f1276e59cb8/e4a3f/strapi-index.png 295w,
/static/915acd7313bff8b6efbf6f1276e59cb8/fcda8/strapi-index.png 590w,
/static/915acd7313bff8b6efbf6f1276e59cb8/efc66/strapi-index.png 885w,
/static/915acd7313bff8b6efbf6f1276e59cb8/c83ae/strapi-index.png 1180w,
/static/915acd7313bff8b6efbf6f1276e59cb8/9cea8/strapi-index.png 1278w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
    &lt;/span&gt;
看到了strapi对中文支持还是不错的。&lt;/p&gt;
&lt;p&gt;选择新建一个ContentType，也就是内容类型。可以理解成为传统网站一个数据库表。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2512caf63a734ee4bd5f876bb364466b/59822/comment-type.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 36.135371179039296%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAAA50lEQVQoz42QUU7EIBiEuf9ZjEcw8Rz65MN2rcUWWChQYJyfXbWuRv3TL5BpZ5ii7MMjMhmmCRPRWiPnjJTSv8g5YdvSh0e9HI9w84xSaxeFyv01rbUfNPFUrGtFKYXBBeowDNAM/GskYD/M7+MsMI74DFwWi8U4pFzYki9q+wYf+BDYZOVemp4pu6bvf6GsOyFE3gHTxViu4SGip5RheHCMmSSGy71tbFYvFDR+qBZju2GjIKGy7smXNdG8MiwwyIfYEW1j2Nlbu189HUY8awNtTni1/ldmF74gmjYeLnrc3Ebc3a94A/5dIpZAJkXgAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;建立Comment&quot;
        title=&quot;建立Comment&quot;
        src=&quot;/static/2512caf63a734ee4bd5f876bb364466b/fcda8/comment-type.png&quot;
        srcset=&quot;/static/2512caf63a734ee4bd5f876bb364466b/12f09/comment-type.png 148w,
/static/2512caf63a734ee4bd5f876bb364466b/e4a3f/comment-type.png 295w,
/static/2512caf63a734ee4bd5f876bb364466b/fcda8/comment-type.png 590w,
/static/2512caf63a734ee4bd5f876bb364466b/efc66/comment-type.png 885w,
/static/2512caf63a734ee4bd5f876bb364466b/59822/comment-type.png 916w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
之后加入新的字段UserName，类型是文本，也就是评论人的名字。
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0471b562ba7e6e713b8762c2be7f4d4d/c6bbc/username-field.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.978021978021985%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABW0lEQVQoz6WSy07DMBBF8/vd8QEIEAvY8AGs2YDYgQitgJbyKErI23Ecvy/jtmpVFKlIjHJix/bc2HMd9V2FIvtCVdVgjME592e8d1DKQUoHYwxhEdU1w+x1jjRNkSQJLfIYijAcZjaslzWNR/aNraBUGkrbTaJ1fpCg4AfY/mIVJGiQlwxcSEhlYSh5iJDk/X6ivu+hlaKaWFhr8N+IuDBIS40kd8hqi7LdpWAWTJABZEIoj6CTaL2q12+CUVHbO8RTjasbjfhF4/l9xXSh8fSm8TjTSCtLxyFh1iHL6Ta0nPocFRnadZKcNuS0hjUkqOjFhEVNu+GS6HdpaU6oUA66GpZa2gXoWbL0MnTM+oMEi5ojqxoS7dFwMUhNVG1oexRti/P5AU5nI5x9jHBxucDJscfhkcL1rSTBhiMn0ZKOsx9BNeWY5GOM8xiTIsZ4VuM+lrh7EJh/CvwA7J0GjM9wDeQAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;建立UserName&quot;
        title=&quot;建立UserName&quot;
        src=&quot;/static/0471b562ba7e6e713b8762c2be7f4d4d/fcda8/username-field.png&quot;
        srcset=&quot;/static/0471b562ba7e6e713b8762c2be7f4d4d/12f09/username-field.png 148w,
/static/0471b562ba7e6e713b8762c2be7f4d4d/e4a3f/username-field.png 295w,
/static/0471b562ba7e6e713b8762c2be7f4d4d/fcda8/username-field.png 590w,
/static/0471b562ba7e6e713b8762c2be7f4d4d/efc66/username-field.png 885w,
/static/0471b562ba7e6e713b8762c2be7f4d4d/c6bbc/username-field.png 910w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
同样建立评论内容和评论Blog的Title。建立完成如下图：
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/91c0718741eff8dc825d00f0d81f03c1/7960f/comments-finish.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.444270015698585%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABkUlEQVQoz42Sy27UMBSG8wIFBrFCvcylU1EhoUKpUOF1WrqmvGVXVZezQdDSYZqkSezEE18yHyeeiovY4OhXbFn6/vOf42Q4ectk7x2PBhNOPp6jdM1dmnNflOi6YT5f8O3rNVWlsdb9Je8dbdviXENrFY2pSTaHr9ncOWDjyZjTs88CS7mdzynKCi1wY1rZK0LoRCH+u24t03Ri1HF1Fbi4CKRpIBlPj9h/+YHBsyknZ+dUqiHPlUC0VLgktPcYdYN1HbCiXz14JZ9ziOGK2QwuLwNZ5kmmL47Z23/P46e7MXLdOKlSk2YKVVu8+o5JZ9RLJwAbY9ZNTVkW+CCxgxULIbOU2IZke3TIzvjwoYefKCtLlvfV9cAW29yh8y9oE3C+o5VKtRhpMW7t+tyrMWJkLMlo94it4UEEnkpka33sWaU0tQylUI5FIVWL0tJxmzqufzhuFj7u4125vs8qR9JPeHv0ho3BOPbQSmPKag3sp+ycf5D7pT62/+P8W9LD51uv4pRj5Aj0/wDXz8T/l34Cfu4iWUA11/sAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;建立完成&quot;
        title=&quot;建立完成&quot;
        src=&quot;/static/91c0718741eff8dc825d00f0d81f03c1/fcda8/comments-finish.png&quot;
        srcset=&quot;/static/91c0718741eff8dc825d00f0d81f03c1/12f09/comments-finish.png 148w,
/static/91c0718741eff8dc825d00f0d81f03c1/e4a3f/comments-finish.png 295w,
/static/91c0718741eff8dc825d00f0d81f03c1/fcda8/comments-finish.png 590w,
/static/91c0718741eff8dc825d00f0d81f03c1/efc66/comments-finish.png 885w,
/static/91c0718741eff8dc825d00f0d81f03c1/c83ae/comments-finish.png 1180w,
/static/91c0718741eff8dc825d00f0d81f03c1/7960f/comments-finish.png 1274w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
完成后，我们可以在左边的菜单栏看到Content Type里多了Comments，点击进入编辑
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e4c4418e113545fe6497f667ab6ce8c2/42de8/content.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 70.86156824782186%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAABP0lEQVQ4y52TS07DMBCGfX24B6w5A1vorj1AFxVCStMUO37bPzM2oW2ahFJLf8ZxnM/jeYj1eoO39xVUr+F9gHP+NnkHoyI2zQpP2wc8bx/x+vkCwRDvPWKMiOFS4Q9Z63CURygn0XsF7XoIYxxkbxAzEFJV/LGZ1uZGpo9SKux2H8ipriWCCM8nkZcx5QKqtioXYrXn4hFps6Wr21EohKeH1vrqp/LjhIvDEgMZMITMlzkBedFaWzYm8irlk/KMxkDnwq8VTG32bZHz7K2hD46y3kMbUySlhFL1XSqFfdsiUBLHQJbgk1JKFLNql1Qq4UyTQN54z5i68gUwL8RsOoYLHv4HdhPwvivPJiXCUPZYPdUj96czlIR8nRT2jquCq2AWyA9uoS/S4dCha6gVu0C9eto0iPtXG1tKiOdTwG//qEvbZc5sMQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;编辑页面&quot;
        title=&quot;编辑页面&quot;
        src=&quot;/static/e4c4418e113545fe6497f667ab6ce8c2/fcda8/content.png&quot;
        srcset=&quot;/static/e4c4418e113545fe6497f667ab6ce8c2/12f09/content.png 148w,
/static/e4c4418e113545fe6497f667ab6ce8c2/e4a3f/content.png 295w,
/static/e4c4418e113545fe6497f667ab6ce8c2/fcda8/content.png 590w,
/static/e4c4418e113545fe6497f667ab6ce8c2/efc66/content.png 885w,
/static/e4c4418e113545fe6497f667ab6ce8c2/42de8/content.png 1033w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
输入相关信息，保存后，一条评论就完成了。&lt;/p&gt;
&lt;p&gt;简单的几步，就把一个内容管理系统搭建完成。可以用它轻松管理各种内容。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[javascript Object与Map对比]]></title><description><![CDATA[在使用javascript时候，使用Object与Map的时候，概念比较模糊。这里做个对比，具体还需要参考MDN文档。 Key的取值： Object：字符串或Symbol Map：任何值(对象或者原始值)    创建方法： Object: // 对象初始化器（Object…]]></description><link>http://www.sunmou.cn/javascript/object-vs-map/</link><guid isPermaLink="false">http://www.sunmou.cn/javascript/object-vs-map/</guid><pubDate>Wed, 04 Mar 2020 20:28:03 GMT</pubDate><content:encoded>&lt;p&gt;在使用javascript时候，使用&lt;a href=&quot;https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object&quot;&gt;Object&lt;/a&gt;与&lt;a href=&quot;https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map&quot;&gt;Map&lt;/a&gt;的时候，概念比较模糊。这里做个对比，具体还需要参考MDN文档。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Key的取值：&lt;br&gt;
Object：字符串或Symbol&lt;br&gt;
Map：任何值(对象或者原始值)   &lt;/li&gt;
&lt;li&gt;创建方法：&lt;br&gt;
Object:&lt;br&gt;
// 对象初始化器（Object initialiser）或对象字面量（literal）&lt;br&gt;
{ [ nameValuePair1[, nameValuePair2[, …nameValuePairN] ] ] }&lt;br&gt;
// 以构造函数形式来调用&lt;br&gt;
new Object([value])&lt;br&gt;
Map:&lt;br&gt;
new Map([iterable])  &lt;/li&gt;
&lt;li&gt;读：&lt;br&gt;
Object: obj.key; 或者 obj[key];&lt;br&gt;
Map: map.get(key);  &lt;/li&gt;
&lt;li&gt;写：&lt;br&gt;
Object: obj.key = value; 或者 obj[key] = value;
Map: map.set(key, value);&lt;/li&gt;
&lt;li&gt;Map支持迭代器，Object不支持。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;下面写下MDN中的对比：
Objects 和 Maps 类似的是，它们都允许你按键存取一个值、删除键、检测一个键是否绑定了值。因此（并且也没有其他内建的替代方式了）过去我们一直都把对象当成 Maps 使用。不过 Maps 和 Objects 有一些重要的区别，在下列情况里使用 Map 会是更好的选择：&lt;/p&gt;
&lt;p&gt;一个Object的键只能是字符串或者 Symbols，但一个 Map 的键可以是任意值，包括函数、对象、基本类型。
Map 中的键值是有序的，而添加到对象中的键则不是。因此，当对它进行遍历时，Map 对象是按插入的顺序返回键值。&lt;/p&gt;
&lt;p&gt;注意：自ECMAScript 2015规范以来，对象确实保留了字符串和Symbol键的创建顺序； 因此，在只有字符串键的对象上进行迭代将按插入顺序产生键。&lt;/p&gt;
&lt;p&gt;你可以通过 size 属性直接获取一个 Map 的键值对个数，而 Object 的键值对个数只能手动计算。
Map 可直接进行迭代，而 Object 的迭代需要先获取它的键数组，然后再进行迭代。
Object 都有自己的原型，原型链上的键名有可能和你自己在对象上的设置的键名产生冲突。
注意：虽然 ES5 开始可以用 map = Object.create(null) 来创建一个没有原型的对象，但是这种用法不太常见。&lt;/p&gt;
&lt;p&gt;Map 在涉及频繁增删键值对的场景下会有些性能优势。
&lt;/p&gt;</content:encoded></item><item><title><![CDATA[使用storybook测试自己组件]]></title><description><![CDATA[最近公司项目用electron+react写一个PC端的小工具。 在调试的时候发现，如果加入业务逻辑了之后，调试UI的效率比较低。 之前就听说用storybook调试UI…]]></description><link>http://www.sunmou.cn/react/storybook/</link><guid isPermaLink="false">http://www.sunmou.cn/react/storybook/</guid><pubDate>Tue, 03 Mar 2020 22:28:03 GMT</pubDate><content:encoded>&lt;p&gt;最近公司项目用electron+react写一个PC端的小工具。&lt;br&gt;
在调试的时候发现，如果加入业务逻辑了之后，调试UI的效率比较低。&lt;br&gt;
之前就听说用storybook调试UI效果效率高。正好试一下。  &lt;/p&gt;
&lt;p&gt;由于项目已经建立好了，就直接在项目根目录下执行以下命令：&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;npx -p @storybook/cli sb init&lt;/code&gt;&lt;br&gt;
这个命令初始化storybook工程，并且可以检测目标工程的类型，主流的React、Vue、Angular都支持。&lt;br&gt;
从命令输出可以看出，检测本工程的类型是&lt;code class=&quot;language-text&quot;&gt;react-script&lt;/code&gt;&lt;br&gt;
同时，创建.storybook目录及配置文件main.js，内容如下：  &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;module.exports = {
  stories: [&amp;#39;../src/**/*.stories.js&amp;#39;],
  addons: [
    &amp;#39;@storybook/preset-create-react-app&amp;#39;,
    &amp;#39;@storybook/addon-actions&amp;#39;,
    &amp;#39;@storybook/addon-links&amp;#39;,
  ],
};&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;主要的配置项就是stories，说明了寻找story的目录和story文件的后缀。&lt;br&gt;
命令还会修改package.json文件，在script中加入了storybook相关命令，并且在工程中加入了两个例子文件。&lt;br&gt;
能帮你做的都做了 😀  😀  😀&lt;/p&gt;
&lt;p&gt;我们可以学着例子建立index.stories.js（测试index组件）  &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;export default { title: &amp;#39;Index&amp;#39; };  
export const  AppTest = () =&amp;gt;  (&amp;lt;App /&amp;gt;)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;运行&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;npm run storybook&lt;/code&gt;&lt;br&gt;
在&lt;a href=&quot;http://localhost:9009&quot;&gt;http://localhost:9009&lt;/a&gt;可以看到最终结果。每个story都是一项，项目名称就是刚才的title。  &lt;/p&gt;
&lt;p&gt;最后推荐一个比较好的中文学习网站&lt;br&gt;
&lt;a href=&quot;https://www.learnstorybook.com/intro-to-storybook/react/zh-CN/get-started/&quot;&gt;https://www.learnstorybook.com/intro-to-storybook/react/zh-CN/get-started/&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[最省空间的数据格式，nimn介绍]]></title><description><![CDATA[工作开始最早接触的数据格式应该是INI，Windows编程的时候经常使用。 然后是XML文件，Andorid的Manifest文件就是XML格式。 网络交换数据最常用的是Json格式。   今天介绍的是nimn格式，它占用空间是最小的，下面是与xml和json…]]></description><link>http://www.sunmou.cn/web/nimn/</link><guid isPermaLink="false">http://www.sunmou.cn/web/nimn/</guid><pubDate>Sun, 01 Mar 2020 22:28:03 GMT</pubDate><content:encoded>&lt;p&gt;工作开始最早接触的数据格式应该是INI，Windows编程的时候经常使用。&lt;br&gt;
然后是XML文件，Andorid的Manifest文件就是XML格式。&lt;br&gt;
网络交换数据最常用的是Json格式。  &lt;/p&gt;
&lt;p&gt;今天介绍的是&lt;a href=&quot;http://nimn.in/&quot;&gt;nimn&lt;/a&gt;格式，它占用空间是最小的，下面是与xml和json的对比：
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 61.83333333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABk0lEQVQoz52SPU/CUBSG+SUuBhMX4z9QEjd3ByQm6m5QBwcZ3IxxNQ4G46IJgzERHYzRwYGPKkY0JEACBVGklhb6cWmhvffiuVYEP3DwHZpz2/uc97wnddm2rSiKJEmqqiKENE3XOtJ1HT5ZltXukY2pgixCMCHUBWdKKbRo9xftCMqWTQXJNI2GZdkOzB7IwPd5JGvMB1PaA/QVgzEmME4iqw3PXB9eiewNof3VA8MJrkIFsHuaA1hBOFVo/GnZgWErDcME55sMg8OR6tpeYWzhrmXDOG2YABZDyO8pXIZhNFtWxzkejkqB3cK4P8lXzLmN9BknOyk+VkN/ZLZZZos5+5hzIMhPLCUf8vrAVGznpAwXBLnpeH4zd302BnjQGz+OSKtB3rOYTBXQkI87uHjdDJU8/rtytbm8nTtP1FgWQruwUyeyysgsdxqDzPzkSjLFa6PzXOiysr4PKW7TRd3tjW4dPTn/SRd+b0ZQw8w9VjVkCqJafJYluZ7JVwSxVhHrxXKtrqj5kvgiyATjL2P/W2/OH5IJhqQ7/AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;空间对比&quot;
        title=&quot;空间对比&quot;
        src=&quot;/static/970a8edbe1d973dcfd768c4c0328aa36/fcda8/dataformats.png&quot;
        srcset=&quot;/static/970a8edbe1d973dcfd768c4c0328aa36/12f09/dataformats.png 148w,
/static/970a8edbe1d973dcfd768c4c0328aa36/e4a3f/dataformats.png 295w,
/static/970a8edbe1d973dcfd768c4c0328aa36/fcda8/dataformats.png 590w,
/static/970a8edbe1d973dcfd768c4c0328aa36/0a47e/dataformats.png 600w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;空间的节省，失去的是可读性。下面是官方几种格式的对比。&lt;br&gt;
XML (806 bytes)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;any_name&amp;gt;
    &amp;lt;person&amp;gt;
        &amp;lt;phone&amp;gt;+122233344550&amp;lt;/phone&amp;gt;
        &amp;lt;name&amp;gt;Jack&amp;lt;/name&amp;gt;
        &amp;lt;phone&amp;gt;+122233344551&amp;lt;/phone&amp;gt;
        &amp;lt;age&amp;gt;33&amp;lt;/age&amp;gt;
        &amp;lt;married&amp;gt;Yes&amp;lt;/married&amp;gt;
        &amp;lt;birthday&amp;gt;Wed, 28 Mar 1979 12:13:14 +0300&amp;lt;/birthday&amp;gt;
        &amp;lt;address&amp;gt;
            &amp;lt;city&amp;gt;New York&amp;lt;/city&amp;gt;
            &amp;lt;street&amp;gt;Park Ave&amp;lt;/street&amp;gt;
            &amp;lt;buildingNo&amp;gt;1&amp;lt;/buildingNo&amp;gt;
            &amp;lt;flatNo&amp;gt;1&amp;lt;/flatNo&amp;gt;
        &amp;lt;/address&amp;gt;
        &amp;lt;address&amp;gt;
            &amp;lt;city&amp;gt;Boston&amp;lt;/city&amp;gt;
            &amp;lt;street&amp;gt;Centre St&amp;lt;/street&amp;gt;
            &amp;lt;buildingNo&amp;gt;33&amp;lt;/buildingNo&amp;gt;
            &amp;lt;flatNo&amp;gt;24&amp;lt;/flatNo&amp;gt;
        &amp;lt;/address&amp;gt;
    &amp;lt;/person&amp;gt;
    &amp;lt;person&amp;gt;
        &amp;lt;phone&amp;gt;+122233344553&amp;lt;/phone&amp;gt;
        &amp;lt;name&amp;gt;Boris&amp;lt;/name&amp;gt;
        &amp;lt;phone&amp;gt;+122233344554&amp;lt;/phone&amp;gt;
        &amp;lt;age&amp;gt;34&amp;lt;/age&amp;gt;
        &amp;lt;married&amp;gt;Yes&amp;lt;/married&amp;gt;
        &amp;lt;birthday&amp;gt;Mon, 31 Aug 1970 02:03:04 +0300&amp;lt;/birthday&amp;gt;
        &amp;lt;address&amp;gt;
            &amp;lt;city&amp;gt;Moscow&amp;lt;/city&amp;gt;
            &amp;lt;street&amp;gt;Kahovka&amp;lt;/street&amp;gt;
            &amp;lt;buildingNo&amp;gt;1&amp;lt;/buildingNo&amp;gt;
            &amp;lt;flatNo&amp;gt;2&amp;lt;/flatNo&amp;gt;
        &amp;lt;/address&amp;gt;
        &amp;lt;address&amp;gt;
            &amp;lt;city&amp;gt;Tula&amp;lt;/city&amp;gt;
            &amp;lt;street&amp;gt;Lenina&amp;lt;/street&amp;gt;
            &amp;lt;buildingNo&amp;gt;3&amp;lt;/buildingNo&amp;gt;
            &amp;lt;flatNo&amp;gt;78&amp;lt;/flatNo&amp;gt;
        &amp;lt;/address&amp;gt;
    &amp;lt;/person&amp;gt;
&amp;lt;/any_name&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;JSON (580 bytes)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
    &amp;quot;any_name&amp;quot;: {
        &amp;quot;person&amp;quot;: [
            {
                &amp;quot;phone&amp;quot;: [
                    122233344550,
                    122233344551
                ],
                &amp;quot;name&amp;quot;: &amp;quot;Jack&amp;quot;,
                &amp;quot;age&amp;quot;: 33,
                &amp;quot;married&amp;quot;: &amp;quot;Yes&amp;quot;,
                &amp;quot;birthday&amp;quot;: &amp;quot;Wed, 28 Mar 1979 12:13:14 +0300&amp;quot;,
                &amp;quot;address&amp;quot;: [
                    {
                        &amp;quot;city&amp;quot;: &amp;quot;New York&amp;quot;,
                        &amp;quot;street&amp;quot;: &amp;quot;Park Ave&amp;quot;,
                        &amp;quot;buildingNo&amp;quot;: 1,
                        &amp;quot;flatNo&amp;quot;: 1
                    },
                    {
                        &amp;quot;city&amp;quot;: &amp;quot;Boston&amp;quot;,
                        &amp;quot;street&amp;quot;: &amp;quot;Centre St&amp;quot;,
                        &amp;quot;buildingNo&amp;quot;: 33,
                        &amp;quot;flatNo&amp;quot;: 24
                    }
                ]
            },
            {
                &amp;quot;phone&amp;quot;: [
                    122233344553,
                    122233344554
                ],
                &amp;quot;name&amp;quot;: &amp;quot;Boris&amp;quot;,
                &amp;quot;age&amp;quot;: 34,
                &amp;quot;married&amp;quot;: &amp;quot;Yes&amp;quot;,
                &amp;quot;birthday&amp;quot;: &amp;quot;Mon, 31 Aug 1970 02:03:04 +0300&amp;quot;,
                &amp;quot;address&amp;quot;: [
                    {
                        &amp;quot;city&amp;quot;: &amp;quot;Moscow&amp;quot;,
                        &amp;quot;street&amp;quot;: &amp;quot;Kahovka&amp;quot;,
                        &amp;quot;buildingNo&amp;quot;: 1,
                        &amp;quot;flatNo&amp;quot;: 2
                    },
                    {
                        &amp;quot;city&amp;quot;: &amp;quot;Tula&amp;quot;,
                        &amp;quot;street&amp;quot;: &amp;quot;Lenina&amp;quot;,
                        &amp;quot;buildingNo&amp;quot;: 3,
                        &amp;quot;flatNo&amp;quot;: 78
                    }
                ]
            }
        ]
    }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;MESSAGE PACK (426 bytes)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;81 a8 61 6e 79 5f 6e 61 6d 65 81 a6 70 65 72 73 6f 6e 92 86 a5 70 68 6f 6e 65 92 cf 00 00 00 1c 75 ac d2 26 cf 00 00 00 1c 75 ac d2 27 a4 6e 61 6d 65 a4 4a 61 63 6b a3 61 67 65 21 a7 6d 61 72 72 69 65 64 a3 59 65 73 a8 62 69 72 74 68 64 61 79 bf 57 65 64 2c 20 32 38 20 4d 61 72 20 31 39 37 39 20 31 32 3a 31 33 3a 31 34 20 2b 30 33 30 30 a7 61 64 64 72 65 73 73 92 84 a4 63 69 74 79 a8 4e 65 77 20 59 6f 72 6b a6 73 74 72 65 65 74 a8 50 61 72 6b 20 41 76 65 aa 62 75 69 6c 64 69 6e 67 4e 6f 01 a6 66 6c 61 74 4e 6f 01 84 a4 63 69 74 79 a6 42 6f 73 74 6f 6e a6 73 74 72 65 65 74 a9 43 65 6e 74 72 65 20 53 74 aa 62 75 69 6c 64 69 6e 67 4e 6f 21 a6 66 6c 61 74 4e 6f 18 86 a5 70 68 6f 6e 65 92 cf 00 00 00 1c 75 ac d2 29 cf 00 00 00 1c 75 ac d2 2a a4 6e 61 6d 65 a5 42 6f 72 69 73 a3 61 67 65 22 a7 6d 61 72 72 69 65 64 a3 59 65 73 a8 62 69 72 74 68 64 61 79 bf 4d 6f 6e 2c 20 33 31 20 41 75 67 20 31 39 37 30 20 30 32 3a 30 33 3a 30 34 20 2b 30 33 30 30 a7 61 64 64 72 65 73 73 92 84 a4 63 69 74 79 a6 4d 6f 73 63 6f 77 a6 73 74 72 65 65 74 a7 4b 61 68 6f 76 6b 61 aa 62 75 69 6c 64 69 6e 67 4e 6f 01 a6 66 6c 61 74 4e 6f 02 84 a4 63 69 74 79 a4 54 75 6c 61 a6 73 74 72 65 65 74 a6 4c 65 6e 69 6e 61 aa 62 75 69 6c 64 69 6e 67 4e 6f 03 a6 66 6c 61 74 4e 6f 4e&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;��any_name��person���phone���u��&amp;amp;��u��&amp;#39;�name�Jack�age!�married�Yes�birthday�Wed, 28 Mar 1979 12:13:14 +0300�address���city�New York�street�Park Ave�buildingNo��flatNo���city�Boston�street�Centre St�buildingNo!�flatNo���phone���u��)��u��*�name�Boris�age&amp;quot;�married�Yes�birthday�Mon, 31 Aug 1970 02:03:04 +0300�address���city�Moscow�street�Kahovka�buildingNo��flatNo���city�Tula�street�Lenina�buildingNo��flatNoN&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;NIMN (232 bytes)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ÆÆÇÆÇ122233344550º122233344551ÅJackº33ºYesºWed, 28 Mar 1979 12:13:14 +0300ÇÆNew YorkºPark Aveº1º1ÆBostonºCentre Stº33º24ÅÆÇ122233344553º122233344554ÅBorisº34ºYesºMon, 31 Aug 1970 02:03:04 +0300ÇÆMoscowºKahovkaº1º2ÆTulaºLeninaº3º78ÅÅ&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;NIMN with date compression (190 bytes)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ÆÆÇÆÇ122233344550º122233344551ÅJackº33ºYesº�OMs9demÇÆNew YorkºPark Aveº1º1ÆBostonºCentre Stº33º24ÅÆÇ122233344553º122233344554ÅBorisº34ºYesº�Faun34mÇÆMoscowºKahovkaº1º2ÆTulaºLeninaº3º78ÅÅ&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;�����122233344550�122233344551�Jack�33�Yes��OMs9dem��New York�Park Ave�1�1�Boston�Centre St�33�24���122233344553�122233&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;下面是常用转nimn的两个库：&lt;br&gt;
xml转nimn:&lt;br&gt;
&lt;a href=&quot;https://github.com/NaturalIntelligence/fast-xml-parser&quot;&gt;https://github.com/NaturalIntelligence/fast-xml-parser&lt;/a&gt;&lt;br&gt;
json转nimn:&lt;br&gt;
&lt;a href=&quot;https://github.com/nimndata/nimnjs&quot;&gt;https://github.com/nimndata/nimnjs&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[javascript解析xml文件]]></title><description><![CDATA[gatsby的插件gatsby-plugin-sitemap生成的文件是xml格式，而baidu要求主动推送是txt文件。 所以需要把xml转换成txt文件，并且定时向baidu推送。 用fast-xml-parser进行xml解析，其性能是js中最好的。以下是和xml2js…]]></description><link>http://www.sunmou.cn/nodejs/xml-parser/</link><guid isPermaLink="false">http://www.sunmou.cn/nodejs/xml-parser/</guid><pubDate>Sun, 01 Mar 2020 14:28:03 GMT</pubDate><content:encoded>&lt;p&gt;gatsby的插件gatsby-plugin-sitemap生成的文件是xml格式，而baidu要求主动推送是txt文件。&lt;br&gt;
所以需要把xml转换成txt文件，并且定时向baidu推送。&lt;/p&gt;
&lt;p&gt;用&lt;a href=&quot;https://www.npmjs.com/package/fast-xml-parser&quot;&gt;fast-xml-parser&lt;/a&gt;进行xml解析，其性能是js中最好的。以下是和xml2js的对比：
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 61.83333333333333%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABYElEQVQoz31STUsDMRDdH+8f6EnwKCIIHkRPUqgXTyKIUg+FSv2oH8XudrvJbj5nxpe2WrdSHyHJ7uTNvLxJZq2dzWZa67IsMVdVpZTC3rumrmsikl8glspwjBRjZOYMCzjSBjGPPy3hrLDzsTaBGV8cnB8PRkVR5HlujMlCCCgViTCWEKbGht2Tsao9EvVH6qg3wSZEFkT1PAS/qgwypLJgj9QJqGZc/CHfDtX++duCTIvoGpn3odZqOvfTKiTBSaok8umbNjGRH9RB92NJ3rgdKkch273Oz46vRJwPBEMMSafTm1xe4MTds9vbOZTyFTJgVIsMITH6SWHe7wfRNLiFd94Gehy86NEQJ8o6PN30wzx3kRFtkZduL8xMDfAwA2IwCA4zGolIEkPknN2UvepNiq/8xoIKTdN45zAjtTEN/vt22TV5A/wNZEFx2YJsWwD9wzOQf7GVnG7a7upffAGvg7l9EusvywAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;性能对比&quot;
        title=&quot;性能对比&quot;
        src=&quot;/static/c0432861dc1e302f8d7f2d1d3eb68481/fcda8/fxpv3-vs-xml2jsv0419_chart.png&quot;
        srcset=&quot;/static/c0432861dc1e302f8d7f2d1d3eb68481/12f09/fxpv3-vs-xml2jsv0419_chart.png 148w,
/static/c0432861dc1e302f8d7f2d1d3eb68481/e4a3f/fxpv3-vs-xml2jsv0419_chart.png 295w,
/static/c0432861dc1e302f8d7f2d1d3eb68481/fcda8/fxpv3-vs-xml2jsv0419_chart.png 590w,
/static/c0432861dc1e302f8d7f2d1d3eb68481/0a47e/fxpv3-vs-xml2jsv0419_chart.png 600w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
      /&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;安装：&lt;br&gt;
npm i fast-xml-parser&lt;/p&gt;
&lt;p&gt;下面是具体实现的代码，将xml中的url解析后存入了site.txt中&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;var fs = require(&amp;#39;fs&amp;#39;);                                                 
var parser = require(&amp;#39;fast-xml-parser&amp;#39;);

var xmlData = fs.readFileSync(&amp;#39;./public/sitemap.xml&amp;#39;);
var txtFile = fs.openSync(&amp;#39;./public/site.txt&amp;#39;, &amp;#39;w&amp;#39;);

var  dataObj = parser.parse(xmlData.toString());

for (urlInfo of dataObj.urlset.url) {
    console.log(urlInfo.loc);
    fs.writeFileSync(txtFile, urlInfo.loc+&amp;#39;\n&amp;#39;);
}

fs.closeSync(txtFile);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;其中parse接口使用的默认参数，还可以使用options参数添加更多功能，具体解析如下：&lt;br&gt;
&lt;font color=blue&gt;attributeNamePrefix&lt;/font&gt;: 提供预定的字符串作为属性名称前缀, 比如@_， 这时假设解析的属性为name，那么在解析后的JSON中该属性将会解析为@_name&lt;br&gt;
&lt;font color=blue&gt;attrNodeName&lt;/font&gt;: 将所有属性分组为给定名称的属性， 取代原本的属性名称， 修改为该名称&lt;br&gt;
&lt;font color=blue&gt;ignoreAttributes&lt;/font&gt;: 忽略解析属性， 配置该项的时候不会解析标签内的属性， 默认为true&lt;br&gt;
&lt;font color=blue&gt;ignoreNameSpace&lt;/font&gt;: 从标记和属性名称中移除命名空间字符串&lt;br&gt;
&lt;font color=blue&gt;allowBooleanAttributes&lt;/font&gt;: 标记可以具有不带任何值的属性&lt;br&gt;
&lt;font color=blue&gt;parseNodeValue &lt;/font&gt;: 将属性的值解析为float、integer或boolean&lt;br&gt;
&lt;font color=blue&gt;parseAttributeValue&lt;/font&gt;: 将属性的值解析为float、integer或boolean&lt;br&gt;
&lt;font color=blue&gt;trimValues&lt;/font&gt;: 修剪属性或节点的字符串值&lt;br&gt;
&lt;font color=blue&gt;cdataTagName&lt;/font&gt;: 如果指定，解析器会将CDATA解析为嵌套标记，而不是将其值添加到父标记中&lt;br&gt;
&lt;font color=blue&gt;cdataPositionChar&lt;/font&gt;: 它将有助于将JSON转换回XML，而不会失去CData的位置&lt;br&gt;
&lt;font color=blue&gt;parseTrueNumberOnly&lt;/font&gt;: 如果为真，则像“+123”或“0123”这样的值不会被解析为数字&lt;br&gt;
&lt;font color=blue&gt;tagValueProcessor&lt;/font&gt;: 转换期间处理标记值。如HTML解码、单词大写等，仅适用于字符串&lt;br&gt;
&lt;font color=blue&gt;attrValueProcessor&lt;/font&gt;: 转换期间处理属性值。如HTML解码、单词大写等，仅适用于字符串&lt;br&gt;
&lt;font color=blue&gt;stopNodes&lt;/font&gt;: 不需要解析的标记名数组。相反，它们的值被解析为字符串。  &lt;/p&gt;
&lt;p&gt;参考链接：&lt;a href=&quot;https://www.jianshu.com/p/d4efd04d43fb&quot;&gt;https://www.jianshu.com/p/d4efd04d43fb&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Linux与windows双系统时间同步]]></title><description><![CDATA[Linux和Windows双系统工作的时候会发现，在来回切换系统的时候，启动后时间会差8小时。 虽然过一会网络时间同步后，时间会自己改正确，但还是感觉不爽。     通过调查发现，时间不同步的原因就是Windows和Linux默认使用BIOS的方式不同。 Linux将BIOS…]]></description><link>http://www.sunmou.cn/os/linux-windows-time/</link><guid isPermaLink="false">http://www.sunmou.cn/os/linux-windows-time/</guid><pubDate>Sat, 29 Feb 2020 09:54:03 GMT</pubDate><content:encoded>&lt;p&gt;Linux和Windows双系统工作的时候会发现，在来回切换系统的时候，启动后时间会差8小时。&lt;br&gt;
虽然过一会网络时间同步后，时间会自己改正确，但还是感觉不爽。    &lt;/p&gt;
&lt;p&gt;通过调查发现，时间不同步的原因就是Windows和Linux默认使用BIOS的方式不同。&lt;br&gt;
Linux将BIOS时间认为是GMT时间，也就是世界标准时间。&lt;br&gt;
Windows装BIOS时间认为是本地时间，中国在东8区，所在是GMT+8。  &lt;/p&gt;
&lt;p&gt;解决方案：&lt;/p&gt;
&lt;p&gt;Windows采用和Linux一样的时间管理方式。修改相应注册表。&lt;br&gt;
在Windows下，按窗口键输入regedit，启动注册表编辑器。进入以下目录：&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;HKEY_LOCAL_MACHINE/SYSTEM/CurrentControlSet/Control/TimeZoneInformation/&lt;/code&gt;&lt;br&gt;
在右边窗口，右键新建REG_DWORD值。&lt;br&gt;
名称RealTimeIsUniversal，值为1。  &lt;/p&gt;
&lt;p&gt;亲试好用。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Seo常用标签及优化]]></title><description><![CDATA[网站搭好了，最重要的就是流量，如何获得流量，一是自己宣传，再就是让搜索引擎能找到你。 首先是标题，标题一定是对网站最好的定位。比如京东的标题：  然后就是在head中，加入相关的meta标签。 什么是meta标签：  meta主要分为二部分，name：名称，content…]]></description><link>http://www.sunmou.cn/web/seo/</link><guid isPermaLink="false">http://www.sunmou.cn/web/seo/</guid><pubDate>Thu, 27 Feb 2020 22:54:03 GMT</pubDate><content:encoded>&lt;p&gt;网站搭好了，最重要的就是流量，如何获得流量，一是自己宣传，再就是让搜索引擎能找到你。&lt;/p&gt;
&lt;p&gt;首先是标题，标题一定是对网站最好的定位。比如京东的标题：&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;title&amp;gt;京东(JD.COM)-正品低价、品质保障、配送及时、轻松购物！&amp;lt;/title&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;然后就是在head中，加入相关的meta标签。&lt;/p&gt;
&lt;p&gt;什么是meta标签：&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;meta标签提供关于HTML文档的元数据。元数据不会显示在页面上，但是对于机器是可读的。它可用于浏览器（如何显示内容或重新加载页面），搜索引擎（关键词），或其他 web 服务。&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;meta主要分为二部分，name：名称，content：内容。主要的meta标签有以下几个类型：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;description，描述：
主页中是对整体网站功能的描述。可以看一下京东的描述。&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;meta name=&amp;quot;description&amp;quot; content=&amp;quot;京东JD.COM-专业的综合网上购物商城,销售家电、数码通讯、电脑、家居百货、服装服饰、母婴、图书、食品等数万个品牌优质商品.便捷、诚信的服务，为您提供愉悦的网上购物体验!&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;keywords，关键字：&lt;br&gt;
对网站或者分页相关领域的提取。比如京东首页的keywords。
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;meta name=&amp;quot;Keywords&amp;quot; content=&amp;quot;网上购物,网上商城,手机,笔记本,电脑,MP3,CD,VCD,DV,相机,数码,配件,手表,存储卡,京东&amp;quot;&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;robots，网页爬虫：&lt;br&gt;
允许爬虫抓取：&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;meta name=&amp;quot;robots&amp;quot; content=&amp;quot;all&amp;quot;&amp;gt;&lt;/code&gt;&lt;br&gt;
让google抓取：&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;meta name=&amp;quot;googlebot&amp;quot; content=&amp;quot;all&amp;quot;&amp;gt;&lt;/code&gt;&lt;br&gt;
让baidu抓取：&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;&amp;lt;meta name=&amp;quot;baiduspider&amp;quot; content=&amp;quot;all&amp;quot;&amp;gt;&lt;/code&gt;  &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;还有其它一些标签比如author，generator最好也写上。&lt;/p&gt;
&lt;p&gt;在gatsby生成的meta标签中还发现了一些og开头的标签，是facebook推出的新标签。
og属性说明：&lt;br&gt;
og:title 标题&lt;br&gt;
og:type 类型&lt;br&gt;
常用值:article book movie&lt;br&gt;
og:image 略缩图地址&lt;br&gt;
og:url 页面地址&lt;br&gt;
og:description 页面的简单描述&lt;br&gt;
og:site_name 页面所在网站名&lt;br&gt;
og:videosrc 视频或者Flash地址&lt;br&gt;
og:audiosrc 音频地址  &lt;/p&gt;
&lt;p&gt;有相关的信息也可以一起写上。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[flutter开发环境的建立]]></title><description><![CDATA[由于各种原因，又开始做Android开发了。
习惯了React+Antd的开发，再看Activity，Fragment，真是觉得无力。
Android O最新支持的JetPack Compose还不错，可惜普及还得一年之后。
所以决定先试试google强力推荐的flutter…]]></description><link>http://www.sunmou.cn/flutter/environment/</link><guid isPermaLink="false">http://www.sunmou.cn/flutter/environment/</guid><pubDate>Thu, 27 Feb 2020 12:02:03 GMT</pubDate><content:encoded>&lt;p&gt;由于各种原因，又开始做Android开发了。
习惯了React+Antd的开发，再看Activity，Fragment，真是觉得无力。
Android O最新支持的JetPack Compose还不错，可惜普及还得一年之后。
所以决定先试试google强力推荐的flutter，先把环境搭起来。&lt;/p&gt;
&lt;p&gt;Android studio 3.6，Dart  2.7，Flutter 1.12.13&lt;/p&gt;
&lt;p&gt;首先安装Android studio，国内官网下载。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.android.google.cn/studio&quot;&gt;https://developer.android.google.cn/studio&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;安装Dart，几种方式，加apt源，下载deb，用压缩包。链接如下：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://dart.dev/get-dart&quot;&gt;https://dart.dev/get-dart&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;apt源是google提供的，试了一下没成功。直接下deb包安装。&lt;/p&gt;
&lt;p&gt;安装Flutter，直接下载，自己选个地方解压一下就行。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://flutter.dev/docs/get-started/install/linux&quot;&gt;https://flutter.dev/docs/get-started/install/linux&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;安装完之后，开始配置Android Studio环境。
安装Dart和Flutter插件。
Setting -&gt; Plugin，搜索Dart和Flutter，安装。&lt;/p&gt;
&lt;p&gt;安装成功后，在New中就可以新建Flutter工程了。&lt;/p&gt;
&lt;p&gt;遇到问题：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;no devices，找不到调试设备。&lt;br&gt;
解决方法：&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;flutter config --android-sdk /path/to/android/sdk&lt;/code&gt;&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;flutter config --android-studio-dir /path/to/android/studio&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;flutter doctor没有找到Android SDK&lt;br&gt;
解决方法：&lt;br&gt;
在.bashrc中加入 ANDROID_HOME 变量。&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;export ANDROID_HOME=/path/to/android/sdk&lt;/code&gt;&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;export PATH=&amp;quot;$PATH:$ANDROID_HOME/tools/bin:$ANDROID_HOME/platform-tools&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[electron react之间通信]]></title><description><![CDATA[electron react开发环境已经完成了。接下来讲一下，electron与react之前的通信。 react相当于ui，electron相当于本地的操作，当需要本地操作的时候react就需要调用electron的接口。 electron react…]]></description><link>http://www.sunmou.cn/electron/electron-react-ipc/</link><guid isPermaLink="false">http://www.sunmou.cn/electron/electron-react-ipc/</guid><pubDate>Wed, 26 Feb 2020 12:15:03 GMT</pubDate><content:encoded>&lt;p&gt;electron react开发环境已经完成了。接下来讲一下，electron与react之前的通信。&lt;br&gt;
react相当于ui，electron相当于本地的操作，当需要本地操作的时候react就需要调用electron的接口。&lt;/p&gt;
&lt;p&gt;electron react之间通信使用ipcRenderer，首先引用electron库的ipcRenderer&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;const { ipcRenderer } = window.require(&amp;#39;electron&amp;#39;);&lt;/code&gt;&lt;br&gt;
这里要注意的是 &lt;font color=red&gt;window&lt;/font&gt;，只有加上window才能找到electron库。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;react调用electron方法
react端：&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;ipcRenderer.send(消息名称, 参数);&lt;/code&gt;&lt;br&gt;
其中两中参数都是字符串，这样的调用会把这个消息发送到关注这个消息的electron函数中。
electron端：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ipcMain.on(消息名称, (event, arg) =&amp;gt; {
console.log(&amp;quot;message comming.&amp;quot;);
event.reply(返回消息名称, &amp;quot;reply.&amp;quot;);
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;以上代码一般放在main.js或其它electron进程中。收到消息后，还可以用event的reply方法返回一些参数。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;electron调用react方法：&lt;br&gt;
electron端：&lt;br&gt;
使用webContent的方法：
&lt;code class=&quot;language-text&quot;&gt;win.webContents.send(消息名称, 参数)&lt;/code&gt;&lt;br&gt;
其中win是BrowserWindow的实例。
react端：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;ipcRenderer.on(消息名称, (event, arg) =&amp;gt; {
console.log(&amp;#39;callback:&amp;#39;, arg);
//do something
});&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;以上就是electron与react之前的通信方法。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[javascrip中的枚举类型]]></title><description><![CDATA[在C++，Java中已经习惯用枚举来做返回值去表示函数执行的状态。
Javascript虽然没有原生的关键字去支持，但也可以用其它方法实现。 声明对象 然后用对象的值去判断返回结果。]]></description><link>http://www.sunmou.cn/javascript/javascript-enum/</link><guid isPermaLink="false">http://www.sunmou.cn/javascript/javascript-enum/</guid><pubDate>Tue, 25 Feb 2020 13:53:03 GMT</pubDate><content:encoded>&lt;p&gt;在C++，Java中已经习惯用枚举来做返回值去表示函数执行的状态。
Javascript虽然没有原生的关键字去支持，但也可以用其它方法实现。&lt;/p&gt;
&lt;p&gt;声明对象&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; CanboxStatus &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;OPEN&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;CLOSE&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token constant&quot;&gt;ERROR&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;然后用对象的值去判断返回结果。&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;boxStatus &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; CanboxStatus&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;OPEN&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    event&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;reply&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;netmanager-reply&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;not start&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[用gatsby建立自己的博客]]></title><description><![CDATA[本文不是从零开始建立，是根据官方提供的Blog模板建立 根据模板建立基础工程：  根据自己的信息，修改文件。 title: 博客标题，显示在首页的最上面。 author, description: 作者及博客相关描述。 siteUrl: 博客地址。 social…]]></description><link>http://www.sunmou.cn/myblog/gatsby-blog/</link><guid isPermaLink="false">http://www.sunmou.cn/myblog/gatsby-blog/</guid><pubDate>Sun, 23 Feb 2020 12:42:03 GMT</pubDate><content:encoded>&lt;p&gt;本文不是从零开始建立，是根据官方提供的Blog模板建立&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;根据模板建立基础工程：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;gatsby new my-blog https://github.com/gatsbyjs/gatsby-starter-blog-theme&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;根据自己的信息，修改&lt;code class=&quot;language-text&quot;&gt;gatsby-config&lt;/code&gt;文件。&lt;/p&gt;
&lt;p&gt;title: 博客标题，显示在首页的最上面。&lt;br&gt;
author, description: 作者及博客相关描述。&lt;br&gt;
siteUrl: 博客地址。&lt;br&gt;
social: 原来是作者的twitter，可以改成我们的微信ID。  &lt;/p&gt;
&lt;p&gt;增加&lt;a href=&quot;tongji.baidu.com&quot;&gt;百度统计&lt;/a&gt;：
&lt;code class=&quot;language-text&quot;&gt;yarn add gatsby-plugin-baidu-tongji&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  resolve: &amp;#39;gatsby-plugin-baidu-tongji&amp;#39;,
  options: {
    siteid: 在百度申请的ID // 在百度统计获取代码变量hm.src 后面的32位的ID
    head: false
  }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;加到文件的plugins的子项里面。&lt;/p&gt;
&lt;p&gt;基本配置后，&lt;code class=&quot;language-text&quot;&gt;gatsby develop&lt;/code&gt; 就可以在 &lt;a href=&quot;http://localhost:8000&quot;&gt;http://localhost:8000&lt;/a&gt;  看到博客的基本效果了。
在content的blog目录下，写markdown文件，就可以显示到自己的博客里了。&lt;/p&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;分页&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;完成了第1部分，基本上一个最简单的博客就完成了。但是写的多了，没有分页，体验不好。接下来介绍一下如何加分页功能。&lt;/p&gt;
&lt;p&gt;在原来的模板中，index.js 负责主页的显示。如果分页的话，应该需要自己写代码建立主页了。&lt;/p&gt;
&lt;p&gt;从&lt;a href=&quot;https://www.gatsbyjs.org/docs/creating-and-modifying-pages/&quot;&gt;gastby的文档&lt;/a&gt;里可以知道，建立页面的方法一共3种：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在pages的目录下建立React Component。&lt;/li&gt;
&lt;li&gt;在gatsby-node.js文件中，实现createPages函数中，用createPage函数。&lt;/li&gt;
&lt;li&gt;在插件中实现createPages方法。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;之前我们用的是第一种方面，接下来我们需要用第二种方法。&lt;br&gt;
我们先删除pages/index.js，这个已经没有用了。
在templates/目录下，建立分页式主页的模板，./templates/blog-list.js，内容如下：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;import React from &amp;#39;react&amp;#39;
import { Link, graphql } from &amp;#39;gatsby&amp;#39;

import SEO from &amp;#39;../components/seo&amp;#39;
import Bio from &amp;#39;../components/bio&amp;#39;
import Layout from &amp;#39;../components/layout&amp;#39;
import { rhythm } from &amp;#39;../utils/typography&amp;#39;

class BlogIndex extends React.Component {
  render() {
    const { data } = this.props
    const siteTitle = data.site.siteMetadata.title
    const posts = data.allMarkdownRemark.edges
    const { currentPage, numPages } = this.props.pageContext
    const isFirst = currentPage === 1
    const isLast = currentPage === numPages
    const prevPage = currentPage - 1 === 1 ? &amp;#39;/&amp;#39; : (currentPage - 1).toString()
    const nextPage = (currentPage + 1).toString()

    return (
      &amp;lt;Layout location={this.props.location} title={siteTitle}&amp;gt;
        &amp;lt;SEO
          title={siteTitle}
          keywords={[`blog`, `gatsby`, `javascript`, `react`]}
        /&amp;gt;
        &amp;lt;Bio /&amp;gt;
        {posts.map(({ node }) =&amp;gt; {
          const title = node.frontmatter.title || node.fields.slug
          return (
            &amp;lt;div key={node.fields.slug}&amp;gt;
              &amp;lt;h3
                style={{
                  marginBottom: rhythm(1 / 4),
                }}
              &amp;gt;
                &amp;lt;Link style={{ boxShadow: &amp;#39;none&amp;#39; }} to={node.fields.slug}&amp;gt;
                  {title}
                &amp;lt;/Link&amp;gt;
              &amp;lt;/h3&amp;gt;
              &amp;lt;small&amp;gt;{node.frontmatter.date}&amp;lt;/small&amp;gt;
              &amp;lt;p dangerouslySetInnerHTML={{ __html: node.excerpt }} /&amp;gt;
            &amp;lt;/div&amp;gt;
          )
        })}
        &amp;lt;ul
          style={{
            display: &amp;#39;flex&amp;#39;,
            flexWrap: &amp;#39;wrap&amp;#39;,
            justifyContent: &amp;#39;space-between&amp;#39;,
            alignItems: &amp;#39;center&amp;#39;,
            listStyle: &amp;#39;none&amp;#39;,
            padding: 0,
          }}
        &amp;gt;
          {!isFirst &amp;amp;&amp;amp; (
            &amp;lt;Link to={prevPage} rel=&amp;quot;prev&amp;quot;&amp;gt;
              ← Previous Page
            &amp;lt;/Link&amp;gt;
          )}
          {Array.from({ length: numPages }, (_, i) =&amp;gt; (
            &amp;lt;li
              key={`pagination-number${i + 1}`}
              style={{
                margin: 0,
              }}
            &amp;gt;
              &amp;lt;Link
                to={`/${i === 0 ? &amp;#39;&amp;#39; : i + 1}`}
                style={{
                  padding: rhythm(1 / 4),
                  textDecoration: &amp;#39;none&amp;#39;,
                  color: i + 1 === currentPage ? &amp;#39;#ffffff&amp;#39; : &amp;#39;&amp;#39;,
                  background: i + 1 === currentPage ? &amp;#39;#007acc&amp;#39; : &amp;#39;&amp;#39;,
                }}
              &amp;gt;
                {i + 1}
              &amp;lt;/Link&amp;gt;
            &amp;lt;/li&amp;gt;
          ))}
          {!isLast &amp;amp;&amp;amp; (
            &amp;lt;Link to={nextPage} rel=&amp;quot;next&amp;quot;&amp;gt;
              Next Page →
            &amp;lt;/Link&amp;gt;
          )}
        &amp;lt;/ul&amp;gt;
      &amp;lt;/Layout&amp;gt;
    )
  }
}

export default BlogIndex

export const pageQuery = graphql`
  query blogPageQuery($skip: Int!, $limit: Int!) {
    site {
      siteMetadata {
        title
      }
    }
    allMarkdownRemark(
      sort: { fields: [frontmatter___date], order: DESC }
      limit: $limit
      skip: $skip
    ) {
      edges {
        node {
          excerpt
          fields {
            slug
          }
          frontmatter {
            date(formatString: &amp;quot;DD MMMM, YYYY&amp;quot;)
            title
          }
        }
      }
    }
  }
`&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;在&lt;code class=&quot;language-text&quot;&gt;gatsby-node.js&lt;/code&gt;文件中的&lt;code class=&quot;language-text&quot;&gt;createPages&lt;/code&gt;下面，创建完每个子页的后面，加入创建分页代码如下：&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;  // Create blog post list pages
    const postsPerPage = 5;
    const numPages = Math.ceil(posts.length / postsPerPage);

    Array.from({ length: numPages }).forEach((_, i) =&amp;gt; {
      createPage({
        path: i === 0 ? `/` : `/${i + 1}`,
        component: path.resolve(&amp;#39;./src/templates/blog-list.js&amp;#39;),
        context: {
          limit: postsPerPage,
          skip: i * postsPerPage,
          numPages,
          currentPage: i + 1
        },
      });
    });&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;  上面的代码根据每页要显示的数量去计算需要创建的页面。&lt;br&gt;
到目前为止，一个有分页功能博客就建立完成。&lt;/p&gt;
&lt;p&gt;参考链接：&lt;/p&gt;
&lt;p&gt;通过模板建立最简单博客：&lt;a href=&quot;https://www.gatsbyjs.org/tutorial/using-a-theme/&quot;&gt;https://www.gatsbyjs.org/tutorial/using-a-theme/&lt;/a&gt;&lt;br&gt;
建立分页：&lt;a href=&quot;https://www.gatsbyjs.org/docs/adding-pagination/&quot;&gt;https://www.gatsbyjs.org/docs/adding-pagination/&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[nodejs与cpp相互调用]]></title><description><![CDATA[Nodejs 与 native交互有3种方式：N-API，nan，直接使用V8，libuv及nodejs库。 N-API是nodejs 8.0以上新发布的稳定的，主要解决版本兼容性。 N-API 是C语言，版本C++版本是 https://github.com/nodejs…]]></description><link>http://www.sunmou.cn/nodejs/nodejs-native/</link><guid isPermaLink="false">http://www.sunmou.cn/nodejs/nodejs-native/</guid><pubDate>Fri, 21 Feb 2020 19:08:03 GMT</pubDate><content:encoded>&lt;p&gt;Nodejs 与 native交互有3种方式：N-API，nan，直接使用V8，libuv及nodejs库。&lt;br&gt;
N-API是nodejs 8.0以上新发布的稳定的，主要解决版本兼容性。&lt;br&gt;
N-API 是C语言，版本C++版本是 &lt;a href=&quot;https://github.com/nodejs/node-addon-api&quot;&gt;https://github.com/nodejs/node-addon-api&lt;/a&gt;  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;N-API使用方法：&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;npm install node-gyp --save-dev&lt;/code&gt;&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;npm install -g --production windows-build-tools(windows下的编译环境）&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;根目录下建立工程文件binding.gyp  &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;    {  
        &amp;quot;targets&amp;quot;: [  
        {  
          &amp;quot;target_name&amp;quot;: &amp;quot;hello&amp;quot;,  
          &amp;quot;sources&amp;quot;: [ &amp;quot;hello.cc&amp;quot; ] 
        }  
      ]  
    }  &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;建立hello.cc  &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;    #include &amp;lt;node_api.h&amp;gt;  
    #include &amp;lt;assert.h&amp;gt;  

    napi_value Method(napi_env env, napi_callback_info info) {
      napi_status status;
      napi_value world;
      status = napi_create_string_utf8(env, &amp;quot;world&amp;quot;, 5, &amp;amp;world);
      assert(status == napi_ok);
      return world;
    }

    #define DECLARE_NAPI_METHOD(name, func)                          \
      { name, 0, func, 0, 0, 0, napi_default, 0 }

    napi_value Init(napi_env env, napi_value exports) {
      napi_status status;
      napi_property_descriptor desc = DECLARE_NAPI_METHOD(&amp;quot;hello&amp;quot;, Method);
      status = napi_define_properties(env, exports, 1, &amp;amp;desc);
      assert(status == napi_ok);
      return exports;
    }

NAPI_MODULE(NODE_GYP_MODULE_NAME, Init)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;编译文件 node-gyp rebuild，生成文件在build/Release目录下。&lt;br&gt;
建立hello.js并且调用  &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;var addon = require(&amp;#39;bindings&amp;#39;)(&amp;#39;hello&amp;#39;);  
console.log(addon.hello()); // &amp;#39;world&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;
&lt;p&gt;C++调用方法:  &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;npm install node-gyp --save-dev
npm install -g --production windows-build-tools(windows下的编译环境）
npm install node-addon-api --save&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;建立工程文件binding.gyp  &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
  &amp;quot;targets&amp;quot;: [
    {
      &amp;quot;target_name&amp;quot;: &amp;quot;hello&amp;quot;,
      &amp;quot;cflags!&amp;quot;: [ &amp;quot;-fno-exceptions&amp;quot; ],
      &amp;quot;cflags_cc!&amp;quot;: [ &amp;quot;-fno-exceptions&amp;quot; ],
      &amp;quot;sources&amp;quot;: [ &amp;quot;hello.cc&amp;quot; ],
      &amp;quot;include_dirs&amp;quot;: [
        &amp;quot;&amp;lt;!@(node -p \&amp;quot;require(&amp;#39;node-addon-api&amp;#39;).include\&amp;quot;)&amp;quot;
      ],
      &amp;#39;defines&amp;#39;: [ &amp;#39;NAPI_DISABLE_CPP_EXCEPTIONS&amp;#39; ],
    }
  ]
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;建立hello.cc&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;#include &amp;lt;napi.h&amp;gt;

Napi::String Method(const Napi::CallbackInfo&amp;amp; info) {
  Napi::Env env = info.Env();
  return Napi::String::New(env, &amp;quot;world&amp;quot;);
}

Napi::Object Init(Napi::Env env, Napi::Object exports) {
  exports.Set(Napi::String::New(env, &amp;quot;hello&amp;quot;),
              Napi::Function::New(env, Method));
  return exports;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;NODE&lt;em&gt;API&lt;/em&gt;MODULE(hello, Init)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;编译node-gyp rebuild
建立hello.js并且运行&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;var addon = require(&amp;#39;bindings&amp;#39;)(&amp;#39;hello&amp;#39;);
console.log(addon.hello()); // &amp;#39;world&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;3. C++ 多函数导出用法：
Napi::Object functionexample::Init(Napi::Env env, Napi::Object exports) {
    exports.Set(&amp;quot;hello&amp;quot;, Napi::Function::New(env, functionexample::HelloWrapped));
    exports.Set(&amp;quot;add&amp;quot;, Napi::Function::New(env, functionexample::AddWrapped));
    return exports;
}

Napi::Object InitAll(Napi::Env env, Napi::Object exports) {
  return functionexample::Init(env,exports);
}

4. c++ callback使用方法：
void RunCallback(const Napi::CallbackInfo&amp;amp; info) {
  Napi::Env env = info.Env();
  Napi::Function cb = info[0].As&amp;lt;Napi::Function&amp;gt;();
  cb.Call(env.Global(), { Napi::String::New(env, &amp;quot;hello world&amp;quot;) });
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[搭建electron react环境]]></title><description><![CDATA[版本React 16.12，electron 8.0   先搭建react环境, 用官方的create-react-app工具      —正常启动   浏览器访问http://localhost:3000， 出现react logo搭建成功   搭建 electron…]]></description><link>http://www.sunmou.cn/electron/electron-react/</link><guid isPermaLink="false">http://www.sunmou.cn/electron/electron-react/</guid><pubDate>Thu, 20 Feb 2020 12:15:03 GMT</pubDate><content:encoded>&lt;p&gt;版本React 16.12，electron 8.0  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;先搭建react环境, 用官方的create-react-app工具  &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;npx create-react-app my-app&lt;/code&gt;&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;cd my-app&lt;/code&gt;&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;npm start&lt;/code&gt; —正常启动  &lt;/p&gt;
&lt;p&gt;浏览器访问&lt;a href=&quot;http://localhost:3000&quot;&gt;http://localhost:3000&lt;/a&gt;， 出现react logo搭建成功  &lt;/p&gt;
&lt;ol start=&quot;2&quot;&gt;
&lt;li&gt;搭建 electron环境  &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;yarn add electron electron-builder --dev 用electron-builder打包程序&lt;/code&gt;  &lt;/p&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;加入第三方工具  &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt; &lt;code class=&quot;language-text&quot;&gt;yarn add wait-on concurrently --dev&lt;/code&gt;
其中wait-on是等待react 是否启动完成使用，Concurrently 是同时启动react 和 electron使用。（开发的时候，react和electron要分别启动）  &lt;/p&gt;
&lt;ol start=&quot;4&quot;&gt;
&lt;li&gt;在build目录下，建立electron.js文件。（electron-builder打包时规定的目录）  &lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;const { app, BrowserWindow } = require(&amp;#39;electron&amp;#39;)
const path = require(&amp;#39;path&amp;#39;);
const url = require(&amp;#39;url&amp;#39;)
const pkg = require(&amp;#39;../package.json&amp;#39;)

function createWindow () {
  // Create the browser window.
  let win = new BrowserWindow({
    width: 800,
    height: 600,
    webPreferences: {
      nodeIntegration: true
    }
  })

  // and load the index.html of the app.
  if (pkg.devMode) 
    win.loadURL(&amp;#39;http://localhost:3000/&amp;#39;);
  else 
    win.loadURL(url.format({
      pathname: path.join(__dirname, &amp;#39;./index.html&amp;#39;),
      protocol: &amp;#39;file&amp;#39;,
      slashes: true
    }));

    console.log(&amp;#39;app started.&amp;#39;);
}

app.whenReady().then(createWindow)

5. package相关配置：  

{
  &amp;quot;name&amp;quot;: &amp;quot;my-app&amp;quot;,
  &amp;quot;version&amp;quot;: &amp;quot;0.1.0&amp;quot;,
  &amp;quot;private&amp;quot;: true,
  &amp;quot;main&amp;quot;: &amp;quot;build/electron.js&amp;quot;,
  &amp;quot;build&amp;quot;: {
    &amp;quot;appId&amp;quot;: &amp;quot;cantools&amp;quot;,
    &amp;quot;files&amp;quot;: [
      &amp;quot;build/**/*&amp;quot;,
      &amp;quot;node_modules/**/*&amp;quot;
    ],
    &amp;quot;win&amp;quot;: {
      &amp;quot;target&amp;quot;: [
        &amp;quot;nsis&amp;quot;,
        &amp;quot;zip&amp;quot;
      ]
    }
  },
  &amp;quot;dependencies&amp;quot;: {
    &amp;quot;@testing-library/jest-dom&amp;quot;: &amp;quot;^4.2.4&amp;quot;,
    &amp;quot;@testing-library/react&amp;quot;: &amp;quot;^9.3.2&amp;quot;,
    &amp;quot;@testing-library/user-event&amp;quot;: &amp;quot;^7.1.2&amp;quot;,
    &amp;quot;bootstrap&amp;quot;: &amp;quot;^4.4.1&amp;quot;,
    &amp;quot;jquery&amp;quot;: &amp;quot;^3.4.1&amp;quot;,
    &amp;quot;path&amp;quot;: &amp;quot;^0.12.7&amp;quot;,
    &amp;quot;popper.js&amp;quot;: &amp;quot;^1.16.1&amp;quot;,
    &amp;quot;react&amp;quot;: &amp;quot;^16.12.0&amp;quot;,
    &amp;quot;react-bootstrap&amp;quot;: &amp;quot;^1.0.0-beta.16&amp;quot;,
    &amp;quot;react-dom&amp;quot;: &amp;quot;^16.12.0&amp;quot;,
    &amp;quot;react-scripts&amp;quot;: &amp;quot;3.3.1&amp;quot;
  },
  &amp;quot;devDependencies&amp;quot;: {
    &amp;quot;concurrently&amp;quot;: &amp;quot;^5.1.0&amp;quot;,
    &amp;quot;electron&amp;quot;: &amp;quot;^8.0.0&amp;quot;,
    &amp;quot;electron-builder&amp;quot;: &amp;quot;^22.3.2&amp;quot;,
    &amp;quot;wait-on&amp;quot;: &amp;quot;^4.0.0&amp;quot;
  },
  &amp;quot;scripts&amp;quot;: {
    &amp;quot;start&amp;quot;: &amp;quot;react-scripts start&amp;quot;,
    &amp;quot;build&amp;quot;: &amp;quot;react-scripts build&amp;quot;,
    &amp;quot;test&amp;quot;: &amp;quot;react-scripts test&amp;quot;,
    &amp;quot;eject&amp;quot;: &amp;quot;react-scripts eject&amp;quot;,
    &amp;quot;electron-start&amp;quot;: &amp;quot;electron .&amp;quot;,
    &amp;quot;electron-dev&amp;quot;: &amp;quot;concurrently \&amp;quot;set BROWSER=none\&amp;quot; \&amp;quot;yarn start\&amp;quot; \&amp;quot;wait-on http://localhost:3000 &amp;amp;&amp;amp; electron .\&amp;quot;&amp;quot;,
    &amp;quot;dist&amp;quot;: &amp;quot;electron-builder --win --x64&amp;quot;
  },
  &amp;quot;eslintConfig&amp;quot;: {
    &amp;quot;extends&amp;quot;: &amp;quot;react-app&amp;quot;
  },
  &amp;quot;browserslist&amp;quot;: {
    &amp;quot;production&amp;quot;: [
      &amp;quot;&amp;gt;0.2%&amp;quot;,
      &amp;quot;not dead&amp;quot;,
      &amp;quot;not op_mini all&amp;quot;
    ],
    &amp;quot;development&amp;quot;: [
      &amp;quot;last 1 chrome version&amp;quot;,
      &amp;quot;last 1 firefox version&amp;quot;,
      &amp;quot;last 1 safari version&amp;quot;
    ]
  },
  &amp;quot;homepage&amp;quot;: &amp;quot;.&amp;quot;,
  &amp;quot;devMode&amp;quot;: true
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start=&quot;6&quot;&gt;
&lt;li&gt;bootstrap使用&lt;br&gt;
react要结合bootstrap使用&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;yarn add react-bootstrap bootstrap jquery&lt;/code&gt;&lt;br&gt;
在src/index.js里加入css,&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;import &amp;#39;bootstrap/dist/css/bootstrap.min.css&amp;#39;;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;打包
先打包react:&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;npm run build&lt;/code&gt;&lt;br&gt;
在build目录下生成react production文件&lt;br&gt;
用electron-builder打包整体文件&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;npm run dist&lt;/code&gt;&lt;br&gt;
生成dist目录里，就有生成相关exe和安装包&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[Nginx配置与命令]]></title><description><![CDATA[安装Nginx:      启动Nginx服务:       重启Nginx服务:      开机自启动:     
关闭开机自启动:        主要修改文件:     /etc/nginx/
网站配置:     修改/etc/nginx/conf.d/default…]]></description><link>http://www.sunmou.cn/ngnix-config/nginx-config/</link><guid isPermaLink="false">http://www.sunmou.cn/ngnix-config/nginx-config/</guid><pubDate>Tue, 18 Feb 2020 10:13:03 GMT</pubDate><content:encoded>&lt;p&gt;安装Nginx:&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;sudo apt install nginx&lt;/code&gt;&lt;br&gt;
启动Nginx服务:&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;sudo systemctl start nginx&lt;/code&gt;&lt;br&gt;
重启Nginx服务:&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;sudo systemctl restart nginx&lt;/code&gt;&lt;br&gt;
开机自启动:&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;sudo systemctl enable nginx&lt;/code&gt;
关闭开机自启动:&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;sudo systemctl disable nginx&lt;/code&gt;  &lt;/p&gt;
&lt;p&gt;主要修改文件:&lt;br&gt;
/etc/nginx/
网站配置:&lt;br&gt;
修改&lt;font color=red&gt;/etc/nginx/conf.d/default.conf&lt;/font&gt;文件，找到root选项，改成自己的目录，完成。
&lt;code class=&quot;language-text&quot;&gt;root /my-directory;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;如果在&lt;code class=&quot;language-text&quot;&gt;/my-directory&lt;/code&gt;下面有index.html文件的话，直接就可以访问了。&lt;br&gt;
注：之前是配置site-available，新版本目录结构有变化，变为conf.d目录。&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Ubuntu文件监控数量限制]]></title><description><![CDATA[在使用Ubuntu进行NODEJS开发时，可能会遇到这个错误。
这个错误的意思时系统对文件监控的数量已经到达限制数量了。 解决方法： 修改系统监控文件数量 Ubuntu 打开文件：      加到最后一行：      保存退出，刷新：]]></description><link>http://www.sunmou.cn/nodejs/file-limited-error/</link><guid isPermaLink="false">http://www.sunmou.cn/nodejs/file-limited-error/</guid><pubDate>Mon, 17 Feb 2020 10:15:03 GMT</pubDate><content:encoded>&lt;p&gt;在使用Ubuntu进行NODEJS开发时，可能会遇到这个错误。
这个错误的意思时系统对文件监控的数量已经到达限制数量了。&lt;/p&gt;
&lt;p&gt;解决方法：&lt;/p&gt;
&lt;p&gt;修改系统监控文件数量&lt;/p&gt;
&lt;p&gt;Ubuntu&lt;/p&gt;
&lt;p&gt;打开文件：&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;sudo gedit /etc/sysctl.conf&lt;/code&gt;&lt;br&gt;
加到最后一行：&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;fs.inotify.max_user_watches=524288&lt;/code&gt;&lt;br&gt;
保存退出，刷新：&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;sudo sysctl -p&lt;/code&gt;&lt;/p&gt;</content:encoded></item></channel></rss>